

1. **有限等比数列前 n 项和公式 (Sum of the first n terms)**
    
    设等比数列的首项为 $a_1$，公比为 $q$。
    
    - 当公比 $q \neq 1$ 时，前 n 项和 $S_n$ 为：
        
        $$S_n = \frac{a_1(1-q^n)}{1-q}$$
        
        或者等价地写为：
        
        $$S_n = \frac{a_1(q^n-1)}{q-1}$$
        
    - 当公比 $q = 1$ 时，数列为常数列 $a_1, a_1, \dots, a_1$，前 n 项和 $S_n$ 为：
        
        $$S_n = n \cdot a_1$$
        
2. **无穷等比数列求和公式 (Sum of an infinite geometric series)**
    
    设等比数列的首项为 $a_1$，公比为 $q$。
    
    - 当公比的绝对值小于 1，即 $|q| < 1$ 时，无穷等比数列的所有项之和 $S$ 收敛，其和为：
        
        $$S = \frac{a_1}{1-q}$$
        
    - 当 $|q| \ge 1$ 时，无穷等比数列的和发散，不存在有限和。
        

希望这两个公式能帮到您！

---

这些计算规则的依据主要来源于**累积分布函数 (CDF) 的基本定义**以及**概率论的基本公理和性质**。

我们来逐一分析：

1. **$P(X \le a) = F(a)$**
    
    - **依据**: 这是 **CDF 的定义**。$F(x)$ 本身就被定义为随机变量 X 取值小于或等于 x 的概率。
        
2. **$P(X < a) = F(a^-)$**
    
    - **依据**:
        
        - 事件 $\{X < a\}$ 可以看作是事件 $\{X \le x\}$ 当 $x$ 从左侧无限趋近于 $a$ 时的极限。
            
        - 根据概率测度的**连续性**（特别是从下方逼近的连续性），$P(X < a) = \lim_{x \to a^-} P(X \le x)$。
            
        - 将 $P(X \le x)$ 替换为其定义 $F(x)$，就得到 $P(X < a) = \lim_{x \to a^-} F(x)$，这正是左极限 $F(a^-)$ 的定义。
            
3. **$P(X = a) = F(a) - F(a^-)$**
    
    - **依据**:
        
        - 事件 $\{X \le a\}$ 可以被分解为两个**互不相交 (disjoint)** 的事件的并集：$\{X < a\}$ 和 $\{X = a\}$。
            
        - 根据概率的可加性公理，$P(X \le a) = P(X < a) + P(X = a)$。
            
        - 移项得到 $P(X = a) = P(X \le a) - P(X < a)$。
            
        - 将 $P(X \le a)$ 替换为 $F(a)$，将 $P(X < a)$ 替换为 $F(a^-)$，即得 $P(X = a) = F(a) - F(a^-)$。
            
        - 这正好代表了 CDF 在点 $a$ 处的**跳跃高度**。如果 CDF 在 $a$ 点连续，则 $F(a) = F(a^-)$，跳跃为 0，即 $P(X=a)=0$，这符合连续型随机变量的特性。
            
4. **$P(X > a) = 1 - F(a)$**
    
    - **依据**:
        
        - 事件 $\{X > a\}$ 是事件 $\{X \le a\}$ 的**补集 (complement)**。
            
        - 根据概率的补集规则，$P(\text{事件}) = 1 - P(\text{补事件})$。
            
        - 所以，$P(X > a) = 1 - P(X \le a) = 1 - F(a)$。
            
5. **$P(X \ge a) = 1 - F(a^-)$**
    
    - **依据**:
        
        - 事件 $\{X \ge a\}$ 是事件 $\{X < a\}$ 的**补集**。
            
        - 根据概率的补集规则，$P(X \ge a) = 1 - P(X < a)$。
            
        - 将 $P(X < a)$ 替换为 $F(a^-)$，即得 $P(X \ge a) = 1 - F(a^-)$。
            
6. **$P(a < X \le b) = F(b) - F(a)$**
    
    - **依据**:
        
        - 事件 $\{X \le b\}$ 可以被分解为两个**互不相交**的事件的并集：$\{X \le a\}$ 和 $\{a < X \le b\}$。
            
        - 根据概率的可加性，$P(X \le b) = P(X \le a) + P(a < X \le b)$。
            
        - 移项得到 $P(a < X \le b) = P(X \le b) - P(X \le a)$。
            
        - 将 $P(X \le b)$ 替换为 $F(b)$，将 $P(X \le a)$ 替换为 $F(a)$，即得 $P(a < X \le b) = F(b) - F(a)$。
            
7. **其他区间概率 ($P(a \le X \le b)$, $P(a < X < b)$, $P(a \le X < b)$)**
    
    - **依据**: 这些都可以通过类似的方法推导出来，主要是利用**事件的分解**和**概率的可加性**，结合前面已经证明的规则 (例如 $P(X < a)=F(a^-)$, $P(X=a)=F(a)-F(a^-)$)。
        
        - 例如，$P(a \le X \le b)$ 可以看作是事件 $\{a < X \le b\}$ 加上事件 $\{X=a\}$，所以 $P(a \le X \le b) = P(a < X \le b) + P(X=a) = (F(b) - F(a)) + (F(a) - F(a^-)) = F(b) - F(a^-)$。
            
        - 其他两个同理可证。
            

**总结来说**，所有这些计算规则都牢固地建立在 **CDF 的定义 ($F(x) = P(X \le x)$)** 以及**概率论的基本公理**（非负性、规范性、可加性）和**重要性质**（补集规则、概率测度的连续性）之上。它们是将 CDF 这个函数工具应用于实际概率计算的标准方法。

---
您提出了一个非常好的问题！关于 PDF 在端点处的定义，确实需要澄清一下。

**结论是：对于连续型随机变量，PDF 在个别点（包括端点）上的取值通常不重要，可以不用特别注意。**

**详细解释如下：**

1. PDF 的作用: 概率密度函数 (PDF) $f(x)$ 本身并不直接代表概率。它的核心作用是被用来积分以计算概率。我们关心的是 PDF 在某个区间上的积分值，这个积分值才代表随机变量落入该区间的概率。
    
    $$P(a \le X \le b) = \int_a^b f(x) dx$$
    
2. 单点概率为零: 对于连续型随机变量，随机变量恰好取到某一个特定值的概率恒为零。
    
    $$P(X=a) = \int_a^a f(x) dx = 0$$
    
    这意味着，无论我们定义 $f(a)$ 的值是多少（是 $2a/9$ 还是 $0$），它对任何概率计算的结果都没有影响。
    
3. **积分的性质**: 定积分的值不会因为改变被积函数在有限个点上的取值而改变。也就是说，$\int_a^b f(x) dx$ 的值，与 $f(a)$ 和 $f(b)$ 具体取什么值无关。
    

**回到您的例子：**

- 您的 CDF 是连续的，通过求导得到 PDF $f(x) = 2x/9$ 在区间 $(0, 3)$ 上。
    
- 我们可以定义 $f(x)$ 为：
    
    - $f(x) = 2x/9$ 对于 $0 < x < 3$，且 $f(x)=0$ 对于其他值。
        
    - 或者 $f(x) = 2x/9$ 对于 $0 \le x \le 3$，且 $f(x)=0$ 对于其他值。
        
    - 甚至 $f(x) = 2x/9$ 对于 $0 \le x < 3$，且 $f(x)=0$ 对于其他值。
        
- **无论采用哪种定义**，计算任何概率 $P(a \le X \le b)$ 时，积分 $\int_a^b f(x) dx$ 的结果都是**完全一样的**。因为改变 $f(0)$ 和 $f(3)$ 的值不会影响积分结果。
    

**习惯做法：**

- 通常，当通过求导 $F'(x)$ 得到 PDF 时，我们会使用**开区间**来定义 PDF 的非零部分（例如 $0 < x < 3$），因为严格来说导数只在开区间内有定义。
    
- 但这主要是为了数学上的严谨性。在实际计算概率时，您不需要过分纠结 PDF 在端点处的具体值。
    

总结：

是的，对于连续型随机变量的 PDF，您通常不用特别注意其在端点处的具体取值，因为它不影响任何概率的计算。选择开区间或闭区间来定义其非零范围，对结果没有影响。

---
![image.png](https://cc-407-1376569927.cos.ap-guangzhou.myqcloud.com/cc-407-1376569927/images-obsidian/202510241024213.png)

好的，我们来详细解释一下为什么当 $1 < y < 3$ 时，$P(Y \le y)$ 等于 $P(X \le y)$。

### 1. 回顾 Y 的定义

随机变量 Y 是通过随机变量 X 转换得到的，规则如下：

- 如果 $X \le 1$，那么 $Y=0$。
    
- 如果 $1 < X < 3$，那么 $Y=X$。
    
- 如果 $X \ge 3$，那么 $Y=5$。
    

---

### 2. 聚焦条件 $1 < y < 3$

我们想要求的是当 $y$ 是一个介于 1 和 3 之间的数时，$Y$ 的累积分布函数 $F_Y(y) = P(Y \le y)$。

---

### 3. 分析事件 $\{Y \le y\}$

$Y$ 的值小于或等于某个介于 1 和 3 之间的数 $y$，这在什么情况下会发生呢？我们看看 Y 可能的取值：

- Y 能等于 0 吗？
    
    能，只要 $X \le 1$ 就可以。因为 $y$ 是大于 1 的 ($1 < y < 3$)，所以 $Y=0$ 肯定满足 $Y \le y$。
    
- Y 能等于 X (其中 $1 < X < 3$) 吗？
    
    能。在这种情况下，要让 $Y \le y$，就必须满足 $X \le y$。因为我们已经在 $1 < X < 3$ 的前提下，所以具体来说就是 $1 < X \le y$。
    
- Y 能等于 5 吗？
    
    不能。如果 $Y=5$，那么要求 $X \ge 3$。但我们考虑的 $y$ 是小于 3 的 ($1 < y < 3$)。所以 $Y=5$ 不可能满足 $Y \le y$。
    

---

### 4. 将可能性合并回 X 的条件

所以，当 $1 < y < 3$ 时，事件 $\{Y \le y\}$ 发生，**当且仅当** 以下两种互斥情况**之一**发生：

- $X \le 1$ （这使得 $Y=0$，而 $0 \le y$）
    
- $1 < X \le y$ （这使得 $Y=X$，而 $X \le y$）
    

---

### 5. 等价性

请注意，把 "$X \le 1$" 和 "$1 < X \le y$" 这两个范围合并起来，正好就等于 "$X \le y$" 这个范围。

---

### 6. 结论

因此，对于 $1 < y < 3$ 这个范围内的 $y$，事件 $\{Y \le y\}$ 和事件 $\{X \le y\}$ 是完全相同的事件。既然是同一个事件，它们的概率必然相等：

$$P(Y \le y) = P(X \le y)$$

---

### 7. 最后的计算

因为 X 是在区间 $[0, 5]$ 上均匀分布的，所以它的概率密度函数 (PDF) 是 $f_X(x) = 1/5$ (对于 $0 \le x \le 5$)。由于我们考虑的 $y$ 在 $(1, 3)$ 区间内（这个区间包含在 $[0, 5]$ 内），我们可以计算：

$$P(X \le y) = \int_0^y f_X(x) dx = \int_0^y \frac{1}{5} dx = \left[\frac{x}{5}\right]_0^y = \frac{y}{5}$$

所以，当 $1 < y < 3$ 时，$F_Y(y) = P(Y \le y) = P(X \le y) = y/5$。