# 🎲 概率论精讲笔记：第一章 概率论入门 (超详细版)

---

## <font color="teal">1.1 概率论的历史 (The History of Probability)</font>

> [!note] 核心脉络
> 概率论的起源与人类社会早期的不确定性和机遇游戏紧密相连，后发展成为一门严谨的数学理论，如今已成为现代科学不可或缺的基石。

- **<font color="#3498DB">古代起源与早期萌芽</font>**:
    - **概念源头**: “机会”与“不确定性”的概念自古便有。早期人类需要应对天气、食物供给等诸多不确定因素，并努力减少其负面影响。
    - **赌博游戏**: 机遇游戏，特别是赌博，是概率论发展的早期催-化剂。
        - 约公元前3500年，埃及等地就已出现用兽骨（如距骨）制成的赌具，可视为骰子的前身。
        - 约公元前2000年，埃及古墓中出土了与现代骰子标记几乎完全相同的立方体骰子，证明了骰子赌博的悠久历史。

- **<font color="#3498DB">数学理论的正式诞生</font>**:
    - **奠基人**: 学界普遍认为，概率的数学理论始于17世纪，由两位法国数学家——**布莱兹·帕斯卡 (Blaise Pascal, 1623-1662)** 和 **皮埃尔·德·费马 (Pierre Fermat, 1601-1665)** ——共同开创。
    - **动因**: 他们成功地为一些困扰了前人约300年的、涉及骰子的赌博问题推导出了精确的概率，从而将概率学从单纯的经验观察提升到了数学理论的高度。
    - **早期贡献者**: 在他们之前，已有学者进行过相关的计算，如意大利的**吉罗拉莫·卡尔达诺 (Girolamo Cardano, 1501-1576)** 和 **伽利略·伽利雷 (Galileo Galilei, 1564-1642)**。

- **<font color="#3498DB">现代发展与广泛应用</font>**:
    - 自17世纪以来，概率论稳步发展，其应用领域持续扩张。
    - **应用领域**: 如今，概率论已是工程学、自然科学和管理学等大多数领域的重要分析工具。其应用极其广泛，包括但不限于：医学、气象学、金融、遗传学、法律、市场营销、卫星摄影、地震预测、人类行为学、计算机系统设计等。
    - **法律应用示例**: 在涉及反垄断或就业歧视的法律诉讼中，控辩双方常常会利用概率和统计计算来支持己方论点。

---

## <font color="teal">1.2 概率的三种诠释 (Interpretations of Probability)</font>

> [!note] 核心思想
> 对于“概率”这一术语的科学解释，目前没有一个被所有统计学家和哲学家普遍接受的单一答案。主要存在三种不同的诠释，但幸运的是，无论你倾向于哪一种，概率的数学演算理论（本书前六章内容）都同样适用。

### <font color="#3498DB">1. 频率派诠释 (The Frequency Interpretation)</font>
- **定义**: 一个特定结果的概率，可以被理解为在**相同条件下大量重复某个过程**时，该结果出现的**相对频率**。
- **例子**: 说抛硬币得到正面的概率是 1/2，是因为如果我们抛掷非常多次，出现正面的次数将约占总次数的一半。
- **<font color="#E74C3C">深入探讨其缺陷</font>**:
    - **定义模糊**:
        - “大量次数”没有明确的数量标准。抛100万次算不算多？
        - “相似条件”也未精确描述。如果条件完全相同，则每次结果都会一样；如果条件不相似，则频率没有意义。因此必须引入某种“随机性”。
        - “约等于1/2”没有明确的误差范围。抛100万次，恰好50万次正面的情况几乎不可能发生，那偏离多少才是可接受的？
    - **适用范围有限**: 这种诠释只适用于那些至少在原则上可以大量重复的过程。它无法直接应用于**一次性、不可重复**的事件。例如：
        - “你认识的某个朋友在未来两年内结婚的概率”。
        - “某个特定的医学研究项目能在规定时间内成功开发出新疗法的概率”。

### <font color="#3498DB">2. 古典派诠释 (The Classical Interpretation)</font>
- **定义**: 基于“**等可能性 (equally likely outcomes)**”的概念。如果一个过程有 n 个等可能的结果，那么每个结果的概率就是 1/n。
- **例子**: 抛一枚均匀的硬币，有两个等可能结果（正面或反面），所以每个结果的概率都是 1/2。
- **<font color="#E74C3C">深入探讨其缺陷</font>**:
    - **循环定义**: “等可能性”这个概念本身就依赖于我们试图定义的概率概念。说两个结果“等可能”，本质上就是说“它们的概率相等”，这构成了逻辑上的循环。
    - **适用范围有限**: 没有系统的方法来为那些结果不是“等可能”的场景分配概率。虽然对于均匀的骰子、洗好的扑克牌等可以应用，但对于“朋友是否会结婚”或“项目是否会成功”这类问题，其结果显然不是等可能的。

### <font color="#3498DB">3. 主观派诠释 (The Subjective Interpretation)</font>
- **定义**: 一个人为某个可能结果赋予的概率，代表了他/她自己基于现有信念和信息对于该结果出现可能性的**主观判断**的量化。
- **特点**:
    - **因人而异**: 它是“某个人的主观概率”，而非“真实的概率”。不同的人基于不同的信念或信息，可能会对同一结果赋予不同的概率。
    - **信念量化**: 它要求人们将信念的强度用数值来表示。例如，某人认为抛硬币出正面的可能性，等同于从一个装有4个红球和1个黑球的袋子中摸出红球的可能性，那么他会赋予正面 4/5 的主观概率。
- **<font color="#E74C3C">深入探讨其缺陷</font>**:
    - **一致性难题**: 理论上要求一个人的所有判断在无限多的事件上都完全自洽、无矛盾，这对于人类来说几乎是不可能实现的。
    - **缺乏客观性**: 无法为多个科学家提供一个共同的、客观的评估基础，不利于协同研究。

> [!summary] 殊途同归：数学理论的普适性
> 尽管存在这些不同的哲学诠释，但概率的数学理论本身是独立且自洽的。本书所教授的理论和技巧，无论在哪种诠释下，都是正确且非常有用的，它们是设计和分析有效实验的宝贵工具。

---

## <font color="teal">1.3 试验与事件 (Experiments and Events)</font>

> [!abstract] 核心定义
> - **试验 (Experiment)**: 任何一个其可能结果能够被提前识别的过程，无论是真实的还是假设的。这个定义非常宽泛，几乎任何可以想象的过程都可以被称为试验。
> - **事件 (Event)**: 一个试验的一组明确定义的可能结果的集合。

- **<font color="#3498DB">试验与事件的例子详解</font>**:
    1.  **试验**: 抛掷一枚硬币10次。
        - **事件**: “至少出现4次正面”。
    2.  **试验**: 从一大批晶体管中抽样1000个进行检测。
        - **事件**: “次品不超过1个”。
    3.  **试验**: 连续90天在中午12点观察某地的气温。
        - **事件**: “这段时期的平均气温低于某个指定值”。
    4.  **试验**: (假设的) 考察托马斯·杰斐逊的生平信息。
        - **事件**: “他出生于1741年”。
    5.  **试验**: 在特定时间点评估一个工业研发项目。
        - **事件**: “该项目在规定月数内成功开发出新产品”。

> [!tip] 概率论数学理论的两个核心问题
> 概率论的数学理论，从初级到高级，主要围绕以下两个问题展开：
> 1.  **概率推导**: 如何从一个试验中每个可能结果的指定概率，来确定更复杂事件的概率。
> 2.  **概率修正**: 当获得额外相关信息时，如何更新事件的概率。

---

## <font color="teal">1.4 集合论：概率的数学语言 (Set Theory)</font>

> [!note] 核心思想
> 集合论为概率论提供了形式化的数学模型。试验的结果是集合的**元素**，而事件则是集合的**子集**。

### <font color="#3498DB">基本概念</font>
- **样本空间 (Sample Space, S)**: 一个试验的**所有**可能结果的集合。
- **元素 (Element/Member)**: 样本空间中的一个可能结果，也称为“点”。`s ∈ S` 表示 s 是 S 的一个成员。
- **事件 (Event)**: 样本空间的一个子集。事件 E 发生，意味着试验的实际结果 `s` 是子集 E 中的一个元素 (`s ∈ E`)。

> [!example] 掷骰子 (Example 1.4.1)
> - **试验**: 掷一个六面骰子。
> - **样本空间**: `S = {1, 2, 3, 4, 5, 6}`。
> - **事件**:
>     - 事件A：“得到偶数” `A = {2, 4, 6}`。
>     - 事件B：“数字大于2” `B = {3, 4, 5, 6}`。

### <font color="#3498DB">集合间的关系与运算</font>
- **包含 (Containment, ⊂)**: `A ⊂ B` 意为 A 是 B 的子集（A中所有元素都在B中）。在事件中，表示如果事件 A 发生，那么事件 B **必然**发生。
- **空集 (Empty Set, ∅)**: 不包含任何元素的子集，代表一个**不可能发生**的事件。
- **可数/不可数集 (Countable/Uncountable)**:
    - **可数集**: 元素可以与自然数(1, 2, 3, ...)一一对应的无限集。如整数集。
    - **不可数集**: 既非有限也非可数的无限集。如区间`[0, 1]`内的所有实数。
- **补集 (Complement, Aᶜ)**: 包含所有属于样本空间 S 但**不属于** A 的元素。在事件中，`Aᶜ` 表示事件 A **不发生**。
- **并集 (Union, ∪)**: `A ∪ B` 包含所有属于 A、或属于 B、或同时属于 A 和 B 的元素。在事件中，表示事件 A **或** B 发生（至少一个发生）。
- **交集 (Intersection, ∩)**: `A ∩ B` 包含所有**同时**属于 A 和 B 的元素。在事件中，表示事件 A **和** B **同时**发生。
- **不相交/互斥 (Disjoint/Mutually Exclusive)**: 如果 `A ∩ B = ∅`，则称 A 和 B 不相交。在事件中，表示 A 和 B **不能同时**发生。

### <font color="#3498DB">重要定律</font>
- **德摩根定律 (De Morgan's Laws, Theorem 1.4.9)**:
    - `(A ∪ B)ᶜ = Aᶜ ∩ Bᶜ`
    - `(A ∩ B)ᶜ = Aᶜ ∪ Bᶜ`
- **分配律 (Distributive Properties, Theorem 1.4.10)**:
    - `A ∩ (B ∪ C) = (A ∩ B) ∪ (A ∩ C)`
    - `A ∪ (B ∩ C) = (A ∪ B) ∩ (A ∪ C)`

> [!example] 抛掷硬币三次 (Example 1.4.4)
> - **样本空间 S**: `S = {HHH, THH, HTH, HHT, HTT, THT, TTH, TTT}` (H代表正面, T代表反面)。
> - **定义事件**:
>     - A = 至少有一次正面
>     - B = 第二次是正面
>     - C = 第三次是反面
>     - D = 没有正面
> - **事件的集合表示**:
>     - `A = {HHH, THH, HTH, HHT, HTT, THT, TTH}`
>     - `B = {HHH, THH, HHT, THT}`
>     - `C = {HHT, HTT, THT, TTT}`
>     - `D = {TTT}`
> - **事件关系**: `B ⊂ A`, `Aᶜ = D`, `B ∩ C = {HHT, THT}` 等。

> [!example] 水电需求 (Example 1.4.5)
> - **试验**: 学习一个办公楼的实际水电需求。
> - **样本空间**: 电力需求y在[1, 150]百万度，水需求x在[4, 200]千加仑。`S = {(x, y) | 4 ≤ x ≤ 200, 1 ≤ y ≤ 150}`。这是一个不可数的样本空间。
> - **事件**:
>     - "水需求至少100" = `{(x, y) | x ≥ 100}`
>     - "电力需求不超过35" = `{(x, y) | y ≤ 35}`

---

## <font color="teal">1.5 概率的公理化定义 (The Definition of Probability)</font>

> [!abstract] 概率三公理 (Axioms of Probability)
> 为样本空间 S 中的每个事件 A 分配一个数值 `Pr(A)`，这个数值必须满足以下三条公理，才能被称为“概率”。
>
> 1.  **公理一：非负性 (Axiom 1)**
>     对任意事件 A，其概率必须是非负的。
>     `Pr(A) ≥ 0`
> 2.  **公理二：规范性 (Axiom 2)**
>     整个样本空间 S（必然发生的事件）的概率为 1。
>     `Pr(S) = 1`
> 3.  **公理三：可列可加性 (Axiom 3)**
>     对于任意一列**互不相交**的事件 `A₁, A₂, ...`，它们并集的概率等于它们各自概率的和。
>     `Pr(∪ᵢ Aᵢ) = Σᵢ Pr(Aᵢ)`

### <font color="#3498DB">由公理直接推导的重要定理</font>
- **定理 1.5.1**: `Pr(∅) = 0` (不可能事件的概率为0)。
- **定理 1.5.2**: 对于**有限个**互斥事件 `A₁,...,Aₙ`，`Pr(A₁ ∪ ... ∪ Aₙ) = Σᵢ Pr(Aᵢ)`。
- **定理 1.5.3**: `Pr(Aᶜ) = 1 - Pr(A)`。
- **定理 1.5.4**: 如果 `A ⊂ B`，则 `Pr(A) ≤ Pr(B)`。
- **定理 1.5.5**: 对任意事件 A, `0 ≤ Pr(A) ≤ 1`。
- **定理 1.5.7 (容斥原理)**: `Pr(A ∪ B) = Pr(A) + Pr(B) - Pr(A ∩ B)`。

> [!example] 疾病诊断 (Example 1.5.3)
> - **情景**: 医生判断病人有0.7的概率是细菌感染(B)，0.4的概率是病毒感染(V)。病人至少是两者之一（即 `S = B ∪ V`，所以 `Pr(B ∪ V) = 1`）。求同时感染的概率 `Pr(B ∩ V)`。
> - **求解**:
>   - 根据容斥原理: `Pr(B ∪ V) = Pr(B) + Pr(V) - Pr(B ∩ V)`
>   - 代入数值: `1 = 0.7 + 0.4 - Pr(B ∩ V)`
>   - 解得: `Pr(B ∩ V) = 0.1`。

> [!warning] 概率为零不等于不可能 (重申)
> 在处理具有无限结果（特别是不可数）的样本空间时，概率为0的事件**不一定**是不可能事件。例如，在水电需求的例子中，若概率与面积成正比，那么“水需求恰好等于x”这个事件对应一条线段，其面积为0，故概率为0，但这个事件显然是可能发生的。

---

## <font color="teal">1.6 有限样本空间 (Finite Sample Spaces)</font>

> [!note] 核心思想
> 在只包含有限个结果的实验中，概率计算最为简单和直观。

- **概率分配**:
    - 设样本空间 `S = {s₁, ..., sₙ}`。
    - 为每个结果 `sᵢ` 分配一个概率 `pᵢ`，必须满足两个条件：
        1. `pᵢ ≥ 0` (对所有i)
        2. `Σᵢ pᵢ = 1`
    - 任何事件 A 的概率，等于 A 中所有结果的概率之和。
- **简单样本空间 (Simple Sample Space)**:
    - **定义**: 一个特殊的有限样本空间，其中**每个结果的概率都相等**，即 `pᵢ = 1/n`。
    - **概率计算**: 若事件 A 包含 `m` 个结果，则 `Pr(A) = m/n`。 这将概率问题转化为了**计数问题**。

> [!example] 纤维断裂 (Example 1.6.2)
> - **情景**: 5根长度分别为1, 2, 3, 4, 5英寸的纤维，任意一根先断裂的概率与其长度成正比。求断裂纤维长度不超过3英寸的概率。
> - **求解**:
>   1. 设 `pᵢ = c × i`。
>   2. `Σ pᵢ = c(1+2+3+4+5) = 15c = 1`，解得 `c = 1/15`。
>   3. 事件A = "长度不超过3英寸" = `{s₁, s₂, s₃}`。
>   4. `Pr(A) = p₁ + p₂ + p₃ = (1/15) + (2/15) + (3/15) = 6/15 = 2/5`。

> [!example] 掷两颗骰子 (Example 1.6.5)
> - **样本空间**: 假设两颗骰子可区分，共有 `6 × 6 = 36` 个等可能的结果，如 `(1,1), (1,2), ..., (6,6)`。每个结果概率为 1/36。
> - **计算和的概率 (Pᵢ)**:
>   - P₂ (和为2): 只有 (1,1) 一种，`P₂ = 1/36`。
>   - P₃ (和为3): 有 (1,2), (2,1) 两种，`P₃ = 2/36`。
>   - P₄ (和为4): 有 (1,3), (2,2), (3,1) 三种，`P₄ = 3/36`。
>   - P₇ (和为7): 有 (1,6), (2,5)...(6,1) 六种，`P₇ = 6/36`。

---

## <font color="teal">1.7 计数方法 (Counting Methods)</font>

> [!note] 核心思想
> 在简单样本空间中，计算概率等价于对结果进行计数。本节介绍最核心的计数法则。

### <font color="#3498DB">1. 乘法法则 (Multiplication Rule)</font>
- **定义**: 如果一个试验分 `k` 步进行，第 `i` 步有 `nᵢ` 种可能的结果，并且每一步的结果数量不受前面步骤的具体结果影响，那么总的结果数是 `n₁ × n₂ × ... × nₖ`。
- **例子**:
    - **城市路线 (Example 1.7.1)**: 从A市到B市有3条路，从B市到C市有5条路，则从A经B到C共有 `3 × 5 = 15` 条不同路径。
    - **抛硬币 (Example 1.7.4)**: 抛6枚硬币，总结果数是 `2⁶ = 64`。
    - **密码锁 (Example 1.7.5)**: 一个三位密码锁，每位有40个数字(0-39)可选，总共有 `40³ = 64,000` 种组合。

### <font color="#3498DB">2. 排列 (Permutations)</font>
- **定义**: 从 `n` 个不同元素中，**有顺序地**取出 `k` 个元素的过程。这也被称为“**无放回抽样** (sampling without replacement)”。
- **排列数 `Pₙ,ₖ`**:
    - **公式**: `Pₙ,ₖ = n × (n-1) × ... × (n-k+1) = n! / (n-k)!` (约定 `0! = 1`)
- **例子**:
    - **选举干部 (Example 1.7.8)**: 从25名成员中选出一位主席和一位秘书。顺序是重要的（主席和秘书是不同职位），共有 `P₂₅,₂ = 25 × 24 = 600` 种方式。
    - **书籍排列 (Example 1.7.9)**: 将6本不同的书放到书架上，共有 `P₆,₆ = 6! = 720` 种排列方式。

### <font color="#3498DB">3. 生日问题 (The Birthday Problem)</font>
- **问题**: 在一个 `k` 人的群体中，至少有两人生日相同的概率 `p` 是多少？（假设一年365天，忽略闰年等因素）
- **解题策略**: 计算其**补集**的概率，即“所有 `k` 个人的生日都不同”的概率，然后用 1 减去它。
    - **总可能结果数**: `365ᵏ` (每个人的生日都有365种可能，这是一个**有放回抽样**问题)。
    - **生日都不同的结果数**: `P₃₆₅,ₖ` (第一个人365选1，第二个人364选1...，这是一个**无放回抽样**问题)。
    - **概率公式**: `p = 1 - (P₃₆₅,ₖ / 365ᵏ)`
- **<font color="#E74C3C">反直觉的结果 (Table 1.1)</font>**:
    - 当 `k=23` 时，概率 `p` 就达到了 `0.507`，超过了50%。
    - 当 `k=50` 时，概率高达 `0.970`。

### <font color="#3498DB">4. 斯特林公式 (Stirling's Formula)</font>
- **用途**: 当 `n` 很大时，直接计算 `n!` 非常困难。斯特林公式提供了一个非常好的近似值。
- **公式**: `n! ≈ (2π)¹ᐟ² nⁿ⁺¹ᐟ² e⁻ⁿ`

---

## <font color="teal">1.8 组合方法 (Combinatorial Methods)</font>

> [!note] 核心思想
> 本节关注计算一个集合中特定大小的子集数量，即**组合**，其中元素的顺序不重要。

### <font color="#3498DB">1. 组合 (Combinations)</font>
- **定义**: 从 `n` 个不同元素中选出 `k` 个元素组成的**子集**。元素的顺序不重要，例如，`{a, b}` 和 `{b, a}` 是同一个组合。
- **组合数 `Cₙ,ₖ` 或 `(ⁿₖ)`**:
    - **推导关系**: 一个排列可以分两步完成：1. 选出一个k元素的组合 (`Cₙ,ₖ`种方法)；2. 将这k个元素进行全排列 (`k!`种方法)。因此 `Pₙ,ₖ = Cₙ,ₖ × k!`。
    - **公式**: `Cₙ,ₖ = Pₙ,ₖ / k! = n! / [k!(n-k)!]`
- **例子**:
    - **选委员会 (Example 1.8.2)**: 从20人中选出8人组成委员会，顺序不重要。共有 `C₂₀,₈ = 125,970` 种方式。
    - **抛硬币 (Example 1.8.7)**: 抛10次硬币，恰好出现3次正面的序列数，等于在10个位置中选择3个位置放“正面”，共有 `C₁₀,₃ = 120` 种。其概率为 `120 / 2¹⁰ ≈ 0.1172`。
    - **抽样 (Example 1.8.8)**: 班级有15名男生和30名女生，随机选10人。恰好选到3名男生的概率为 `(C₁₅,₃ × C₃₀,₇) / C₄₅,₁₀ ≈ 0.2904`。

### <font color="#3498DB">2. 二项式系数 (Binomial Coefficients)</font>
- **` (ⁿₖ) `** 是组合数的另一种常用记法，称为二项式系数。
- **二项式定理 (Theorem 1.8.2)**: `(x+y)ⁿ = Σₖ (ⁿₖ) xᵏ yⁿ⁻ᵏ` (k从0到n)。
- **重要性质**: `(ⁿₖ) = (ⁿₙ₋ₖ)` (从n个里面选k个，等价于从n个里面选出剩下的n-k个)。

### <font color="#3498DB">关于有序与无序样本的探讨</font>
- **核心原则**: 在解决一个问题时，对样本空间 `S` 和事件 `E` 的计数方法必须**保持一致**。要么都考虑顺序，要么都不考虑。
- **扑克牌例子 (Example 1.8.9, 1.8.10)**: 计算4个玩家每人拿到1张A的概率。
    - **解法1 (无序组合)**: 只考虑4张A在52个位置中的分布。总可能为 `C₅₂,₄`。有利情况为每个玩家的13张牌中各有1个位置给A，即 `C₁₃,₁ × C₁₃,₁ × C₁₃,₁ × C₁₃,₁ = 13⁴`。概率为 `13⁴ / C₅₂,₄ ≈ 0.1055`。
    - **解法2 (有序排列)**: 考虑52张牌的全排列。总可能为 `52!`。有利情况为，先为4张A选定位置(`13⁴`种)，再排列这4张A(`4!`种)，再排列剩下48张非A牌(`48!`种)。概率为 `(13⁴ × 4! × 48!) / 52! ≈ 0.1055`。
    - 两种方法因为保持了内部计数逻辑的一致性，得出了相同的结果。

---

## <font color="teal">1.9 多项式系数 (Multinomial Coefficients)</font>

> [!note] 核心思想
> 多项式系数是二项式系数的推广，用于计算将一个集合划分为**两个以上**可区分的子集的方法数。

- **定义**: 将 `n` 个不同元素分成 `k` 组，每组分别有 `n₁, n₂, ..., nₖ` 个元素，其中 `Σᵢ nᵢ = n`。
- **多项式系数公式**: `(ⁿₙ₁,ₙ₂,...,ₙₖ) = n! / (n₁! n₂! ... nₖ!)`
- **应用**:
    - **委员会分配 (Example 1.9.1)**: 20人分成3个委员会，人数分别为8, 8, 4。总方法数为 `(²⁰₈,₈,₄) = 20! / (8! 8! 4!)`。
    - **多类型排列**: 排列 `n` 个物品，其中有 `n₁` 个A类物品，`n₂` 个B类物品... 方法数也是多项式系数。
    - **掷骰子 (Example 1.9.3)**: 掷12次骰子，每个点数（1-6）各出现2次的概率为 `(¹²₂,₂,₂,₂,₂,₂) / 6¹² ≈ 0.0034`。
    - **扑克牌分发 (Example 1.9.4)**: 52张牌发给4个玩家，每人13张。A得6张红心, B得4张, C得2张, D得1张的概率。
        - **解法**: 首先，13张红心按(6,4,2,1)分配给4人的方法数为 `(¹³₆,₄,₂,₁)`。然后，剩下39张非红心按(7,9,11,12)分配给4人（以凑满13张）的方法数为 `(³⁹₇,₉,₁₁,₁₂)`。总有利情况为两者相乘。总的分牌方法为 `(⁵²₁₃,₁₃,₁₃,₁₃)`。最终概率为 `M/N`。

---

## <font color="teal">1.10 事件并集的概率 (The Probability of a Union of Events)</font>

> [!abstract] 容斥原理 (Inclusion-Exclusion Principle, Theorem 1.10.2)
> 这是计算**任意**（不必互斥）n个事件并集概率的通用公式。
>
> - **三个事件**: `Pr(A₁∪A₂∪A₃) = [Pr(A₁)+Pr(A₂)+Pr(A₃)] - [Pr(A₁∩A₂)+Pr(A₁∩A₃)+Pr(A₂∩A₃)] + Pr(A₁∩A₂∩A₃)`
> - **n个事件的通用公式**:
>   `Pr(∪ᵢ Aᵢ) = ΣᵢPr(Aᵢ) - Σᵢ<ⱼPr(Aᵢ∩Aⱼ) + Σᵢ<ⱼ<ₖPr(Aᵢ∩Aⱼ∩Aₖ) - ... + (-1)ⁿ⁺¹ Pr(∩ᵢ Aᵢ)`
>
> **计算逻辑**: 先加上所有单个事件的概率，再减去所有两两相交事件的概率，再加上所有三三相交事件的概率，以此类推，符号在加减之间交替。

### <font color="#3498DB">匹配问题 (The Matching Problem)</font>
- **问题**: 将 `n` 封信随机放入 `n` 个写好对应地址的信封中，至少有一封信放对的概率 `pₙ` 是多少？
- **求解**:
    - 设 `Aᵢ` 为第 `i` 封信放对的事件，我们需求解 `Pr(∪ᵢ Aᵢ)`。
    - 应用容斥原理：
        - `ΣPr(Aᵢ) = n × (1/n) = 1`
        - `ΣPr(Aᵢ∩Aⱼ)` (共 `Cₙ,₂`项): `Cₙ,₂ × 1/[n(n-1)] = 1/2!`
        - `ΣPr(Aᵢ∩Aⱼ∩Aₖ)` (共 `Cₙ,₃`项): `Cₙ,₃ × 1/[n(n-1)(n-2)] = 1/3!`
        - ...
- **最终概率**: `pₙ = 1 - 1/2! + 1/3! - ... + (-1)ⁿ⁺¹ / n!`
- **有趣的极限**: 当 `n→∞` 时，`pₙ` 的极限是 `1 - 1/e ≈ 0.63212`。 这个概率收敛得非常快，`n=7` 时就已经和极限值在小数点后4位上一致。这意味着，无论是7封信还是700万封信，至少一封放对的概率都约等于0.6321。

---

## <font color="teal">1.11 统计骗局 (Statistical Swindles)</font>

> [!warning] 警惕生活中的概率误区
> 了解概率有助于我们识别和分析生活中的统计论证，避免被没有科学依据的说法所误导。

- **<font color="#E74C3C">1. 完美预测 (Perfect Forecasts)</font>**:
    - **骗局**: 你连续七周收到同一家公司的邮件，每周都准确预测了某股票的涨跌。第八周，他们开始向你高价兜售预测服务。
    - **真相**: 这是一种筛选骗局。公司最初可能给 `2⁷=128` 个潜在客户发邮件，一半预测涨，一半预测跌。之后每周，他们只继续给那些收到正确预测的客户发送邮件，并再次对半分发相反的预测。七周后，必然会有一个客户收到了连续七次正确的预测，而你就是那个“幸运儿”。
- **<font color="#E74C3C">2. 保证赢家 (Guaranteed Winners)</font>**:
    - **骗局**: 收费提供体育比赛结果预测，并承诺“预测不准全额退款”。
    - **真相**: 预测公司本身没有任何风险。如果预测对了，他们赚取费用；如果错了，他们只是退还费用，没有任何损失。而真正承担风险的是购买预测并据此下注的客户。
- **<font color="#E74C3C">3. 提高你的中奖机会 (Improving Your Lottery Chances)</font>**:
    - **骗局**: 一些彩票“攻略”建议玩家选择包含连续数字的号码组合，理由是“中奖号码包含连续数字的概率很高”。
    - **真相**: 这个建议混淆了“某类事件的概率”和“某个特定结果的概率”。虽然“中奖号码包含连续数字”这个**事件**（作为一个大的组合）的概率确实很高（因为它包含了大量可能的组合），但这并**不意味着**属于这个事件的**每一个特定组合**的中奖概率会因此变高。在公平的抽奖中，任何一个特定的彩票组合，其中奖概率都是完全相同的。

---
## <font color="teal">1.12 补充练习 (Supplementary Exercises)</font>
(此处列出教材中的补充练习题目，供您学习和巩固)

1.  抛硬币七次，A=第一次为正面，B=第五次为正面。A和B是不相交事件吗？
2.  若 `Pr(A∪B∪D) = 0.7`，求 `Pr(Aᶜ∩Bᶜ∩Dᶜ)` 的值。
3.  某选区350名选民(250民主党, 100共和党)，随机选30人，恰好选出18名民主党人的概率是多少？
4.  20张牌(数字1-5各4张)，随机不放回抽10张，每个数字恰好出现两次的概率是多少？
5.  ... (依此类推，列出所有练习题)