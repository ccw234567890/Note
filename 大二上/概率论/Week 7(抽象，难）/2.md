
# 概率分布讲座笔记 (基于录音稿)

> [!info] 核心内容回顾
> -   离散分布回顾 (PF/PMF)
> -   特定离散分布:
>     -   伯努利分布 (简单成败)
>     -   二项分布 (多次成败)
>     -   泊松分布 (事件计数)
>     -   二项分布与泊松分布的关系 (近似)
>     -   超几何分布 (不放回抽样)
>     -   负二项分布 (等待固定次数成功)
>     -   几何分布 (等待首次成功)
> -   连续分布介绍
> -   概率密度函数 (PDF) 定义与性质
> -   PDF 与 PF/PMF 的区别
> -   连续分布的概率计算 (面积)
> -   连续分布在单点概率为零
> -   混合分布的存在性
> -   连续均匀分布
> -   正态分布简介

---

## 离散分布回顾 (Discrete Distributions)

> [!abstract] -t "<font color='lightblue'>核心概念: 随机变量与离散分布</font>"
> -   我们从讨论单个**事件**（比如抛硬币是正面）升级到讨论**随机变量**（比如抛10次硬币出现正面的次数）。随机变量就是给实验的每种可能结果赋予一个数值。
> -   如果一个随机变量只能取**有限个**或者**可以数得清的无限个**特定的值（比如0, 1, 2, 3,... 次品数量），那它就属于**离散分布**。就像台阶一样，值是分开的，跳跃的。

> [!abstract] -t "<font color='lightblue'>概率函数 (Probability Function - PF / PMF)</font>"
> -   对于离散的随机变量，我们用**概率函数 (PF)** 或称**概率质量函数 (PMF)** 来描述它取各个值的可能性有多大。
> -   PF通常写作 $f(x)$，它直接告诉你 "$X$ 正好等于某个值 $x$" 的概率是多少，即 $f(x) = Pr(X = x)$。
> -   **PF的规矩**:
>     1.  任何一个值的概率都不能是负数：$f(x) \ge 0$。
>     2.  把所有可能值的概率加起来，总和必须等于 1：$\sum_{\text{所有可能的} x} f(x) = 1$。（所有可能性加起来就是全部）
> -   对于离散情况，PF 是描述分布最直接、最方便的方法。

> [!tip] -t "<font color='orange'>计算概率</font>"
> -   知道了每个点的概率 $f(x)$，就能算 $X$ 落在某个范围 $C$ 里的概率了，方法是把 $C$ 里面所有 $x$ 的概率 $f(x)$ 加起来：$Pr(X \in C) = \sum_{x \in C} f(x)$。

---

## 几种重要的离散分布

> [!example] -t "<font color='lightgreen'>1. 伯努利分布 (Bernoulli Distribution)</font>"
> -   这是最简单的分布，用于只有**两种结果**的单次试验（成功/失败，正面/反面，合格/次品）。
> -   随机变量 $X$ 通常取值 1（代表成功）或 0（代表失败）。
> -   $Pr(X=1) = p$ （成功的概率）。
> -   $Pr(X=0) = 1-p$ （失败的概率）。
> -   想象只抛一次硬币，记录是不是正面。

> [!example] -t "<font color='lightgreen'>2. 二项分布 (Binomial Distribution)</font>"
> -   描述了**重复进行 $n$ 次**相互独立的**伯努利试验**，其中**成功了多少次**。
> -   **与伯努利的关系**: 如果你做了 $n$ 次独立的伯努利试验，每次成功的概率都是 $p$，那么总的成功次数 $Y$ 就服从二项分布。它像是把 $n$ 个独立的伯努利结果加起来。
> -   **概率函数 (PF)**: 在 $n$ 次试验中，恰好成功 $x$ 次的概率是：
>     $$Pr(X=x) = f(x) = \binom{n}{x} p^x (1-p)^{n-x} \quad \text{for } x = 0, 1, ..., n$$
>     -   $\binom{n}{x}$ 是组合数，表示从 $n$ 次中选 $x$ 次成功有多少种选法。
>     -   $p^x$ 是 $x$ 次成功的概率。
>     -   $(1-p)^{n-x}$ 是 $n-x$ 次失败的概率。
> -   需要两个参数来确定：$n$ (总试验次数) 和 $p$ (单次成功的概率)。
> -   想象抛 $n$ 次硬币，记录总共出现多少次正面。

> [!example] -t "<font color='lightgreen'>3. 泊松分布 (Poisson Distribution)</font>"
> -   用于模拟在**一段固定的时间或空间**内，某个**随机事件发生**的**次数**。这些事件被认为是独立且以恒定平均速率发生的。
> -   例子：一小时内有多少顾客到达商店？一本书的一页上有多少个印刷错误？
> -   **概率函数 (PF)**: 设 $\lambda$ (lambda) 是这段时间内事件发生的**平均次数**（也是唯一的参数），那么实际发生 $x$ 次的概率是：
>     $$Pr(X=x) = f(x) = \frac{e^{-\lambda} \lambda^x}{x!} \quad \text{for } x = 0, 1, 2, ...$$
>     -   $e$ 是自然常数 (约 2.718)。
>     -   $x!$ 是 $x$ 的阶乘 ($x \times (x-1) \times ... \times 1$)。
> -   泊松分布在很多领域都非常有用。

> [!bug] -t "<font color='yellow'>泊松分布对二项分布的近似</font>"
> -   **关键场景**: 当二项分布里的试验次数 $n$ **非常大**，同时每次成功的概率 $p$ **非常小**时，计算二项概率会很麻烦（特别是组合数 $\binom{n}{x}$ 可能很大）。
> -   **近似方法**: 在这种情况下，可以用泊松分布来很好地**近似**这个二项分布。
> -   **如何近似**: 用泊松分布的参数 $\lambda$ (平均发生次数) 来代替二项分布的期望成功次数 $np$。也就是说，令 $\lambda = np$。
>     $$\binom{n}{x} p^x (1-p)^{n-x} \approx \frac{e^{-np} (np)^x}{x!}$$
> -   **经验法则**: 一般来说，当 $n \ge 100$ 并且 $np \le 10$ 时，这个近似效果就相当不错了。
> -   **为什么这么做**: 在以前计算不方便的时代，算泊松概率比算 $n$ 很大的二项概率要容易得多。现在有了计算机，这个优势不那么明显，但这个理论关系仍然非常重要。

> [!example] -t "<font color='lightgreen'>应用泊松近似：购买实验组件</font>"
> -   **问题背景**: 100个学生每人需要1个实验组件，组件次品率为1%。要买多少个 ($N=100+x$) 才能保证至少95%的概率能凑够100个好的？
> -   **分析**: 买 $N$ 个，次品数 $D$ 服从 $B(N, 0.01)$。需要 $Pr(\text{好的} \ge 100) \ge 0.95$，即 $Pr(D \le x) \ge 0.95$。
> -   **近似**: 因为 $N$ 很大 ($>100$), $p=0.01$ 很小，可以用泊松近似。令 $\lambda = Np \approx 100 \times 0.01 = 1$。
> -   **求解**: 找最小的 $x$ 使得 $\sum_{i=0}^{x} \frac{e^{-1} 1^i}{i!} \ge 0.95$。需要查表或计算累积泊松概率。（老师提到，实际计算时可能要用更精确的 $\lambda = (100+x)0.01$）

> [!example] -t "<font color='lightgreen'>4. 超几何分布 (Hypergeometric Distribution)</font>"
> -   用于**不放回抽样**的场景。想象从一个有限的总体中抽取一部分，关心抽到的样本中具有某种特征的个体数量。
> -   **情景**: 一个罐子里有 $A$ 个红球和 $B$ 个蓝球。不放回地摸出 $n$ 个球。
> -   $X$ = 摸出的 $n$ 个球里红球的数量。
> -   **概率函数 (PF)**: 恰好摸到 $x$ 个红球（意味着摸到 $n-x$ 个蓝球）的概率是：
>     $$Pr(X=x) = f(x) = \frac{(\text{从A个红球中选x个的方法数}) \times (\text{从B个蓝球中选n-x个的方法数})}{(\text{从总共A+B个球中选n个的方法数})} = \frac{\binom{A}{x} \binom{B}{n-x}}{\binom{A+B}{n}}$$
>     -   需要注意 $x$ 的取值范围，不能超过红球总数 $A$，也不能超过抽样数 $n$ 等。
> -   和二项分布的区别：二项分布是放回抽样（或总体无限大），每次抽样概率不变；超几何分布是不放回抽样，每次抽样后概率会改变。

> [!example] -t "<font color='lightgreen'>5. 负二项分布 (Negative Binomial Distribution)</font>"
> -   和二项分布有点反过来：不是固定试验次数看成功几次，而是**固定要成功 $r$ 次**，看需要**经历多少次失败**。
> -   **情景**: 不停地抛硬币（正面算成功），直到抛出 $r$ 个正面为止。$X$ = 在这整个过程中抛出的**反面**（失败）次数。
> -   **概率函数 (PF)**: 设 $p$ 是单次成功的概率，那么在第 $r$ 次成功之前恰好经历了 $x$ 次失败的概率是：
>     $$Pr(X=x) = f(x) = \binom{x+r-1}{r-1} p^r (1-p)^x \quad \text{for } x = 0, 1, 2, ...$$
>     -   $\binom{x+r-1}{r-1}$：在总共 $x+r$ 次试验中，最后一次必须是成功。在前 $x+r-1$ 次试验中，需要安排 $r-1$ 次成功（剩下的 $x$ 次就是失败）的位置。
>     -   $p^r$：总共 $r$ 次成功的概率。
>     -   $(1-p)^x$：总共 $x$ 次失败的概率。

> [!example] -t "<font color='lightgreen'>6. 几何分布 (Geometric Distribution)</font>"
> -   是负二项分布的一个简单特例，就是当 $r=1$ 时的情况。
> -   描述了为了**等到第一次成功**，需要**经历多少次失败**。
> -   **情景**: 不停地抛硬币，直到第一次出现正面为止。$X$ = 在出现第一个正面**之前**抛出的反面次数。
> -   **概率函数 (PF)**: 设 $p$ 是成功的概率，那么失败 $x$ 次后首次成功的概率是：
>     $$Pr(X=x) = f(x) = (1-p)^x p \quad \text{for } x = 0, 1, 2, ...$$
>     -   $(1-p)^x$：前 $x$ 次都失败。
>     -   $p$：第 $x+1$ 次成功。

---

## 连续分布简介 (Continuous Distributions)

> [!abstract] -t "<font color='lightblue'>从离散到连续</font>"
> -   离散变量的值是跳跃的，像整数 1, 2, 3。
> -   连续变量的值可以在一个区间内取**任何**值，像身高、体重、时间，是“连绵不断”的。

> [!abstract] -t "<font color='lightblue'>定义: 连续分布与概率密度函数 (PDF)</font>"
> -   如果一个随机变量 $X$ 的取值可以覆盖一个或多个区间，并且我们能找到一个**非负函数 $f(x)$**，叫做**概率密度函数 (PDF)**，使得 $X$ 落在任意区间 $(a, b)$ 内的概率**等于** $f(x)$ 在该区间上的**积分**（即曲线下的面积），那么 $X$ 就有**连续分布**。
>     $$Pr(a < X \le b) = \int_a^b f(x) dx$$
> -   注意：我们是通过 PDF 的存在来定义连续分布的。

> [!abstract] -t "<font color='lightblue'>PDF 的性质</font>"
> 1.  **非负性**: PDF 曲线永远不能跑到 x 轴下方，即 $f(x) \ge 0$。
> 2.  **归一性**: PDF 曲线下方的**总面积**必须等于 1，即 $\int_{-\infty}^{\infty} f(x) dx = 1$。

> [!tip] -t "<font color='orange'>理解PDF (非常重要！)</font>"
> -   **PDF 不是概率！** $f(x)$ 的值**不是** $X$ 正好等于 $x$ 的概率。事实上，对于任何连续随机变量，它取任何**单个精确值**的概率都是 **0** ！ ($Pr(X=x) = 0$)。
> -   **PDF 是概率的密度！** $f(x)$ 的值反映的是 $X$ 在 $x$ 点**附近**取值的**密集程度**。$f(x)$ 越大，说明 $X$ 的值落在 $x$ 附近一个很小区间内的概率相对越高。
> -   **概率是面积！** 想求 $X$ 落在某个区间 $[a, b]$ 内的概率，就计算 PDF 曲线下从 $a$ 到 $b$ 的**面积**。
> -   **PDF 值可以 > 1**：因为它是密度，不是概率，所以 $f(x)$ 的值可以大于1，只要保证总面积为1就行。

> [!tip] -t "<font color='orange'>世界不只是黑白分明：混合分布</font>"
> -   一个随机变量不一定非得是纯粹的离散或纯粹的连续。
> -   可能存在**混合分布 (hybrid distribution)**：它可能在某些点上有概率（像离散的跳跃），而在其他地方是连续的（由PDF描述）。

---

## 几种重要的连续分布

> [!example] -t "<font color='lightgreen'>1. 连续均匀分布 (Continuous Uniform Distribution)</font>"
> -   最简单的连续分布，表示 $X$ 在某个区间 $[a, b]$ 内取任何值的**可能性完全相等**。
> -   **概率密度函数 (PDF)**:
>     $$f(x) = \begin{cases} \frac{1}{b-a} & \text{for } a \le x \le b \quad \text{(区间内是平的直线)} \\ 0 & \text{otherwise} \quad \text{(区间外是0)} \end{cases}$$
>     -   高度是 $1/(b-a)$ 保证了总面积（矩形面积）为 $(b-a) \times \frac{1}{b-a} = 1$。
> -   <font color='orange'>再次强调**: 对于连续分布，区间的端点是开是闭（比如 $[a,b]$ vs $(a,b)$）不影响概率计算，因为单点概率为0。</font>

> [!example] -t "<font color='lightgreen'>应用：验证PDF和计算</font>"
> -   **例子**: 给定 $f(x) = cx$ 在 $0<x<4$ 上，求 $c$ 使之成为PDF。
>     -   解: 需要 $\int_0^4 cx dx = 1$。算出积分是 $8c$，所以 $c=1/8$。
> -   **例子**: 用 $f(x)=x/8$ ($0<x<4$) 计算 $Pr(1 < X < 2)$。
>     -   解: $\int_1^2 \frac{x}{8} dx = [\frac{x^2}{16}]_1^2 = \frac{4}{16} - \frac{1}{16} = \frac{3}{16}$。
> -   **例子**: 计算 $Pr(X > 2)$。
>     -   解: $\int_2^4 \frac{x}{8} dx = [\frac{x^2}{16}]_2^4 = \frac{16}{16} - \frac{4}{16} = \frac{12}{16} = \frac{3}{4}$。
>     -   或者用 $1 - Pr(X \le 2) = 1 - \int_0^2 \frac{x}{8} dx = 1 - [\frac{x^2}{16}]_0^2 = 1 - \frac{4}{16} = \frac{3}{4}$。

> [!tip] -t "<font color='orange'>关于积分和无穷</font>"
> -   PDF 可以定义在无限区间上，比如 $(0, \infty)$。
> -   检查这种 PDF 是否归一（总面积为1）需要计算**反常积分**。

> [!example] -t "<font color='lightgreen'>2. 正态分布 (Normal Distribution)</font>"
> -   (仅提及名称和重要性) 这是概率论和统计学中**最重要**的连续分布，没有之一。也叫高斯分布。
> -   它的 PDF 曲线就是我们常说的“钟形曲线”。
> -   由两个参数决定：**均值 $\mu$** (决定曲线中心位置) 和**方差 $\sigma^2$** (决定曲线的胖瘦程度)。
> -   <font color='red'>验证正态分布PDF积分为1非常困难，需要特殊技巧。</font>（老师提到下次课会讲）

---

### 总结 (讲座内容)

-   离散分布用**概率函数 (PF/PMF)** 描述，表示取**单个值**的概率。
-   连续分布用**概率密度函数 (PDF)** 描述，表示取值在某点**附近**的**密度**，概率通过**积分 (面积)** 计算。
-   连续分布取**任何单点**的概率为 **0**。
-   **伯努利** (1次成败), **二项** (n次独立成败中的成功数), **泊松** (固定时空内事件发生数) 是核心离散分布。
-   **泊松近似**是处理大n小p二项分布的重要技巧。
-   **超几何** (不放回抽样), **负二项** (等r次成功), **几何** (等首次成功) 是其他重要的离散分布。
-   **连续均匀分布**是区间内等可能取值。
-   **正态分布**是最重要的连续分布。
-   处理连续分布需要熟练运用**微积分**，尤其是积分。