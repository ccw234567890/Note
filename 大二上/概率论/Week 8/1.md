
# 概率分布讲座笔记 (续)

> [!info] 核心内容回顾 (本次)
> -   连续分布回顾 (PDF 定义与性质)
> -   连续均匀分布回顾
> -   **正态分布 (Normal Distribution)**
>     -   PDF 公式与参数
>     -   重要性与应用场景
>     -   **PDF 积分为 1 的证明 (关键推导)**
>     -   **标准化 (Standardization)** 与标准正态分布
>     -   计算问题：CDF 无解析解
>     -   对称性 $\Phi(-x) = 1 - \Phi(x)$
> -   **指数分布 (Exponential Distribution)**
>     -   PDF 公式与参数 $\beta$
>     -   应用：寿命、等待时间 (公交车悖论)
> -   **Gamma 分布 (Gamma Distribution)**
>     -   Gamma 函数 $\Gamma(\alpha)$ 定义与性质
>     -   Gamma 分布 PDF 公式
>     -   与指数分布、卡方分布 ($\chi^2$) 的关系
> -   **Beta 分布 (Beta Distribution)**
>     -   Beta 函数简介
>     -   Beta 分布 PDF 公式
>     -   在贝叶斯统计中的应用 (提及)
> -   **累积分布函数 (CDF)**
>     -   作为统一描述所有分布 (离散、连续、混合) 的工具
>     -   定义 $F(x) = Pr(X \le x)$
>     -   **CDF 的三大性质** (非递减, 极限, 右连续)
>     -   使用 CDF 计算概率 ($Pr(a < X \le b)$, $Pr(X > a)$, $Pr(X < x)$, $Pr(X = x)$)
>     -   离散 CDF (阶梯函数) 与 PF 的关系 (跳跃)
>     -   连续 CDF 与 PDF 的关系 (积分与微分)
>     -   具体分布的 CDF 示例 (伯努利, 二项, 均匀, 标准正态)
>     -   CDF 与 PF/PDF 在离散和连续情况下的相对便利性

---

## 连续分布回顾

> [!abstract] -t "<font color='lightblue'>连续分布与PDF</font>"
> -   与离散分布（取有限或可数个值）不同，**连续分布 (Continuous Distribution)** 的随机变量可以在一个或多个区间内取**任何**值。
> -   连续分布的关键在于**概率密度函数 (PDF - Probability Density Function)** $f(x)$ 的存在。
> -   PDF $f(x)$ 必须满足：
>     1.  **非负性**: $f(x) \ge 0$ 对所有 $x$。
>     2.  **归一性**: $\int_{-\infty}^{\infty} f(x) dx = 1$ (总面积为1)。
> -   <font color='red'>重要</font>: $f(x)$ **不是** $Pr(X=x)$！对于连续分布，$Pr(X=x) = 0$ 对任意单点 $x$ 成立。$f(x)$ 代表的是 $X$ 在 $x$ 点附近的**概率密度**。
> -   计算概率 $Pr(a < X \le b)$ 就是计算 PDF 曲线下从 $a$ 到 $b$ 的**面积** $\int_a^b f(x) dx$。
> -   对于连续分布，概率计算中区间的开闭（如 $(a, b)$ vs $[a, b]$）通常不重要，因为端点的概率为0。

> [!example] -t "<font color='lightgreen'>回顾：连续均匀分布</font>"
> -   在区间 $[a, b]$ 上均匀分布的 PDF 是：
>     $$f(x) = \begin{cases} \frac{1}{b-a} & \text{for } a \le x \le b \\ 0 & \text{otherwise} \end{cases}$$
> -   这是最简单的连续分布，表示区间内各处取值的可能性完全相同。

---

## 正态分布 (Normal Distribution / Gaussian Distribution)

> [!abstract] -t "<font color='lightblue'>定义与PDF</font>"
> -   正态分布是概率论和统计学中**最重要**的连续分布，没有之一。
> -   一个随机变量 $X$ 服从参数为 $\mu$ (均值) 和 $\sigma^2$ (方差) 的正态分布，记作 $X \sim N(\mu, \sigma^2)$，如果它的 PDF 为：
>     $$f(x | \mu, \sigma^2) = \frac{1}{\sqrt{2\pi\sigma^2}} e^{-\frac{(x-\mu)^2}{2\sigma^2}} \quad \text{for } -\infty < x < \infty$$
>     -   $\mu$ (mu): 决定了钟形曲线的中心位置 (对称轴)。
>     -   $\sigma^2$ (sigma squared): 决定了曲线的“胖瘦”程度。$\sigma$ (标准差) 越大，曲线越扁平；$\sigma$ 越小，曲线越尖锐。
>     -   $\pi$ 和 $e$ 是数学常数。

> [!bug] -t "<font color='yellow'>PDF 积分为 1 的证明 (重要推导)</font>"
> -   要证明 $\int_{-\infty}^{\infty} f(x | \mu, \sigma^2) dx = 1$，直接计算这个积分非常困难。
> -   **技巧**:
>     1.  **标准化**: 做变量替换 $t = \frac{x-\mu}{\sigma}$ (即 $x = \sigma t + \mu$)，则 $dx = \sigma dt$。目标变为证明：
>         $$I = \int_{-\infty}^{\infty} \frac{1}{\sqrt{2\pi}} e^{-t^2/2} dt = 1$$
>        
>     2.  **平方与二重积分**: 考虑 $I^2$：
>         $$I^2 = \left( \int_{-\infty}^{\infty} \frac{1}{\sqrt{2\pi}} e^{-x^2/2} dx \right) \left( \int_{-\infty}^{\infty} \frac{1}{\sqrt{2\pi}} e^{-y^2/2} dy \right)$$
>         $$I^2 = \frac{1}{2\pi} \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} e^{-(x^2+y^2)/2} dx dy$$
>        
>     3.  **极坐标变换**: 这是一个典型的适合极坐标的积分。令 $x = r \cos \theta$, $y = r \sin \theta$。则 $x^2+y^2 = r^2$，面积微元 $dx dy = r dr d\theta$。积分范围变为 $r$ 从 $0$ 到 $\infty$，$\theta$ 从 $0$ 到 $2\pi$。
>         $$I^2 = \frac{1}{2\pi} \int_{0}^{2\pi} \int_{0}^{\infty} e^{-r^2/2} r dr d\theta$$
>        
>     4.  **计算积分**:
>         -   内层积分 (对 $r$): $\int_{0}^{\infty} e^{-r^2/2} r dr$。令 $u = r^2/2$, $du = r dr$。积分变为 $\int_0^\infty e^{-u} du = [-e^{-u}]_0^\infty = 0 - (-1) = 1$。
>         -   外层积分 (对 $\theta$): $\int_{0}^{2\pi} 1 d\theta = 2\pi$。
>     5.  **最终结果**:
>         $$I^2 = \frac{1}{2\pi} \times 1 \times 2\pi = 1$$
>         因为 PDF $f(x)$ 必须非负，所以积分 $I$ 必须是正数，故 $I = \sqrt{1} = 1$。证明完成。
> -   <font color='orange'>老师建议**: 记住这个结果，或者掌握这个推导过程，因为它在概率论中非常基础且重要。</font>

> [!tip] -t "<font color='orange'>正态分布的重要性与应用</font>"
> 1.  **自然现象**: 许多自然界和社会现象的测量值（如身高、体重、测量误差）近似服从正态分布。曲线中间高，两边低，符合普遍规律。
> 2.  **中心极限定理 (Central Limit Theorem)**: (将在第六章学习) 这是正态分布极其重要的原因之一。它指出，大量**独立随机变量**的**和**（或平均值），在满足一定条件下，其分布会**趋近于正态分布**，无论原始变量本身是什么分布！
>     -   <font color='orange'>误区提醒**: 这并不意味着所有东西都服从正态分布，尤其是在样本量不够大或者变量不独立的情况下。强行要求考试分数等服从正态分布往往是没有理论依据的。</font>
> 3.  **统计推断的基础**: 很多重要的统计分布（如卡方分布 $\chi^2$, t分布, F分布）都是基于正态分布推导出来的。
> 4.  **模型中的噪声**: 在信号处理和许多模型中，随机噪声常被假设为服从正态分布，因为它数学上处理方便且能捕捉足够信息。
> 5.  **钟形曲线的普遍性**: 其形状（中间集中，两边对称递减）非常有代表性，易于理解。

> [!abstract] -t "<font color='lightblue'>标准化与标准正态分布</font>"
> -   直接计算任意正态分布 $N(\mu, \sigma^2)$ 的概率（积分）非常困难且繁琐。
> -   **标准化 (Standardization)**: 通过变量代换 $Z = \frac{X - \mu}{\sigma}$，可以将任何正态变量 $X \sim N(\mu, \sigma^2)$ 转换为**标准正态变量** $Z \sim N(0, 1)$。
> -   **标准正态分布 (Standard Normal Distribution)**: 指均值为 0、方差为 1 的正态分布 ($N(0, 1)$)。
> -   **标准正态 PDF**: 通常用 $\phi(x)$ (phi) 表示：
>     $$\phi(x) = \frac{1}{\sqrt{2\pi}} e^{-x^2/2}$$
>    
> -   **意义**: 我们只需要计算一次标准正态分布的概率（通常制成表格或内置于计算器/软件中），就可以通过标准化来计算**任何**正态分布的概率。我们无需为每一个不同的 $\mu$ 和 $\sigma$ 都计算一遍。

> [!warning] -t "<font color='red'>计算问题：CDF无初等函数解</font>"
> -   正态分布（包括标准正态分布）的累积分布函数 (CDF)，即 $F(x) = \int_{-\infty}^x f(t) dt$，**无法**用我们熟悉的初等函数（如多项式、指数、对数、三角函数等）表示出来。
> -   **标准正态 CDF**: 通常用 $\Phi(x)$ (大写 Phi) 表示：
>     $$\Phi(x) = \int_{-\infty}^x \frac{1}{\sqrt{2\pi}} e^{-t^2/2} dt$$
>     这个积分只能通过数值方法近似计算。
> -   **实际操作**: 我们通常查**标准正态分布表**或使用计算器/软件来获取 $\Phi(x)$ 的值。

> [!bug] -t "<font color='yellow'>标准正态分布的对称性</font>"
> -   标准正态 PDF $\phi(x)$ 关于 $y$ 轴 (即 $x=0$) 是对称的：$\phi(-x) = \phi(x)$。
> -   这个对称性导致其 CDF $\Phi(x)$ 具有一个重要性质：
>     $$\Phi(-x) = 1 - \Phi(x)$$
> -   **推导**:
>     $\Phi(-x) = Pr(Z \le -x)$
>     由于对称性, $Pr(Z \le -x) = Pr(Z \ge x)$
>     $Pr(Z \ge x) = 1 - Pr(Z < x)$
>     因为是连续分布, $Pr(Z < x) = Pr(Z \le x) = \Phi(x)$
>     所以, $\Phi(-x) = 1 - \Phi(x)$。
> -   **应用**: 这个性质非常有用，因为正态分布表通常只提供 $x \ge 0$ 的 $\Phi(x)$ 值。我们可以用这个公式来计算 $x < 0$ 时的 CDF 值。

---

## 指数分布 (Exponential Distribution)

> [!abstract] -t "<font color='lightblue'>定义与PDF</font>"
> -   设 $\beta > 0$ 是一个参数（称为速率参数 Rate Parameter, 有时也用 $\lambda$，注意与泊松参数的区别；或者用 $1/\beta$ 作为尺度参数 Scale Parameter）。
> -   随机变量 $X$ 服从参数为 $\beta$ 的指数分布，如果它的 PDF 为：
>     $$f(x | \beta) = \begin{cases} \beta e^{-\beta x} & \text{for } x \ge 0 \\ 0 & \text{for } x < 0 \end{cases}$$
>    
> -   <font color='orange'>教材/文献差异**: 有些定义使用 $f(x) = \frac{1}{\beta} e^{-x/\beta}$，这时 $\beta$ 代表平均值 (尺度参数)。注意区分定义。</font>

> [!tip] -t "<font color='orange'>应用场景</font>"
> -   常用于模拟**寿命**（电子元件、灯泡）、**等待时间**（直到下一个顾客到来、直到公交车到来）、**两次事件发生的时间间隔**（在泊松过程中）。
> -   **公交车等待时间悖论 (Bus Waiting Time Paradox)**:
>     -   假设公交车每10分钟一班（平均）。你随机到达车站，直觉上平均等待时间应该是 5 分钟。
>     -   但如果公交车到达间隔时间服从指数分布（平均10分钟），那么无论你何时到达，你的**预期**等待时间**仍然**是 10 分钟！这被称为指数分布的**无记忆性 (Memoryless Property)**。
>     -   这就是为什么有时感觉等公交总比想象的要久。实际的公交到达间隔可能更接近指数分布（由于各种随机延误）而非精确的固定间隔。

---

## Gamma 分布 (Gamma Distribution)

> [!abstract] -t "<font color='lightblue'>Gamma 函数</font>"
> -   Gamma 分布的定义依赖于**Gamma 函数 $\Gamma(\alpha)$**。
> -   对于 $\alpha > 0$，Gamma 函数定义为：
>     $$\Gamma(\alpha) = \int_0^\infty t^{\alpha-1} e^{-t} dt$$
>    
> -   **Gamma 函数的重要性质**:
>     1.  **递推关系**: $\Gamma(\alpha) = (\alpha-1) \Gamma(\alpha-1)$ for $\alpha > 1$。（可通过分部积分证明）
>     2.  **整数值**: 如果 $n$ 是正整数，$\Gamma(n) = (n-1)!$。
>     3.  **特殊值**: $\Gamma(1/2) = \sqrt{\pi}$。（可通过将其平方，转化为类似正态积分的双重积分，再用极坐标求解）

> [!abstract] -t "<font color='lightblue'>Gamma 分布 PDF</font>"
> -   Gamma 分布有两个参数：**形状参数 $\alpha > 0$** (alpha) 和**速率参数 $\beta > 0$** (beta) (或尺度参数 $1/\beta$)。
> -   随机变量 $X$ 服从参数为 $(\alpha, \beta)$ 的 Gamma 分布，如果它的 PDF 为：
>     $$f(x | \alpha, \beta) = \begin{cases} \frac{\beta^\alpha}{\Gamma(\alpha)} x^{\alpha-1} e^{-\beta x} & \text{for } x > 0 \\ 0 & \text{for } x \le 0 \end{cases}$$
>    

> [!tip] -t "<font color='orange'>Gamma 分布的关系</font>"
> -   **与指数分布**: 当形状参数 $\alpha = 1$ 时，Gamma 分布就是参数为 $\beta$ 的指数分布。$\Gamma(1, \beta) = Exp(\beta)$。
> -   **与卡方分布 ($\chi^2$)**: 卡方分布是 Gamma 分布的一个特例。自由度为 $n$ 的卡方分布 $\chi^2(n)$ 就是参数为 $\alpha = n/2$ 和 $\beta = 1/2$ 的 Gamma 分布。$\chi^2(n) = \Gamma(n/2, 1/2)$。卡方分布在统计学（特别是假设检验）中非常重要。

---

## Beta 分布 (Beta Distribution)

> [!abstract] -t "<font color='lightblue'>Beta 函数与 Beta 分布 PDF (简介)</font>"
> -   Beta 分布定义在**有限区间 $[0, 1]$** 上，常用于模拟**概率**或**比例**本身的不确定性。
> -   它依赖于**Beta 函数 $B(\alpha, \beta)$** (这里 $\alpha > 0, \beta > 0$ 是参数)。
> -   Beta 分布的 PDF 为：
>     $$f(x | \alpha, \beta) = \begin{cases} \frac{1}{B(\alpha, \beta)} x^{\alpha-1} (1-x)^{\beta-1} & \text{for } 0 < x < 1 \\ 0 & \text{otherwise} \end{cases}$$
>     其中 $B(\alpha, \beta) = \int_0^1 t^{\alpha-1} (1-t)^{\beta-1} dt = \frac{\Gamma(\alpha)\Gamma(\beta)}{\Gamma(\alpha+\beta)}$ 是归一化常数。
> -   <font color='orange'>重要性**: Beta 分布在**贝叶斯统计 (Bayesian statistics)** 中扮演着核心角色，常作为伯努利/二项分布中成功概率 $p$ 的**先验分布 (prior distribution)** 或**后验分布 (posterior distribution)**。不过在本课程当前阶段可能不会深入。</font>

---

## 累积分布函数 (Cumulative Distribution Function - CDF)

> [!abstract] -t "<font color='lightblue'>动机与定义</font>"
> -   离散分布用 PF/PMF，连续分布用 PDF。有没有一种**统一**的方式来描述**所有类型**的分布（包括离散、连续、甚至混合）？答案是肯定的，那就是**累积分布函数 (CDF)**。
> -   随机变量 $X$ 的 CDF，通常记作 $F(x)$，定义为：
>     $$F(x) = Pr(X \le x) \quad \text{for } -\infty < x < \infty$$
>     它给出的是随机变量 $X$ 取值**小于或等于**某个值 $x$ 的累积概率。

> [!bug] -t "<font color='yellow'>CDF 的三大基本性质</font>"
> 1.  **非递减性 (Non-decreasing)**: 如果 $x_1 < x_2$，那么 $F(x_1) \le F(x_2)$。
>     -   *通俗解释*: 随着 $x$ 增大，你累积的概率只会越来越多，或者保持不变，绝不会减少。因为 $\{X \le x_1\}$ 是 $\{X \le x_2\}$ 的子集。
> 2.  **极限**:
>     -   $\lim_{x \to -\infty} F(x) = 0$ (*往左走到无穷远处，累积的概率趋于0*)。
>     -   $\lim_{x \to \infty} F(x) = 1$ (*往右走到无穷远处，累积了所有可能值的概率，总和为1*)。
> 3.  **右连续性 (Right-continuity)**: 对于任意点 $x$，$F(x) = F(x^+)$，其中 $F(x^+) = \lim_{y \to x, y>x} F(y)$。
>     -   *通俗解释*: 当你从右边向 $x$ 点靠近时，CDF 的值会趋近于 $F(x)$ 本身。
>     -   *离散情况的理解*: CDF 在离散点 $x_i$ 处发生跳跃。$F(x_i)$ 的值等于跳跃后的高度（包含了 $x_i$ 这一点的概率），所以从右边靠近时极限值等于该点函数值。
>     -   *连续情况的理解*: 连续分布的 CDF 本身就是连续函数，所以左右极限都等于函数值，自然满足右连续。

> [!tip] -t "<font color='orange'>使用 CDF 计算概率</font>"
> -   $Pr(X > a) = 1 - Pr(X \le a) = 1 - F(a)$。
> -   $Pr(a < X \le b) = Pr(X \le b) - Pr(X \le a) = F(b) - F(a)$。
> -   $Pr(X < x) = F(x^-)$ （CDF 在 $x$ 点的**左极限**）。
> -   $Pr(X = x) = F(x) - F(x^-)$ （CDF 在 $x$ 点的**跳跃高度**）。
>     -   如果 CDF 在 $x$ 点连续，则 $F(x) = F(x^-)$，跳跃高度为 0，即 $Pr(X=x)=0$ (符合连续分布的特性)。
>     -   如果 CDF 在 $x$ 点有跳跃，则跳跃高度就是 $X$ 取 $x$ 这个离散值的概率。

> [!abstract] -t "<font color='lightblue'>CDF 与 PF/PDF 的关系</font>"
> -   **离散 CDF**: 是一个**阶梯函数 (step function)**。它在 $X$ 的每个可能取值 $x_i$ 处发生跳跃，跳跃的高度等于该点的概率 $f(x_i)$。在两个可能值之间，CDF 是**水平**的 (常数)。
> -   **连续 CDF**:
>     1.  CDF $F(x)$ 是一个**连续函数**。
>     2.  CDF 是 PDF 的积分：$F(x) = \int_{-\infty}^x f(t) dt$。
>     3.  PDF 是 CDF 的导数：$f(x) = \frac{dF(x)}{dx}$ (在 $f(x)$ 连续的点)。
>     -   因此，对于连续分布，CDF 和 PDF 包含了相同的信息，可以相互转换。

> [!example] -t "<font color='lightgreen'>具体分布的 CDF 示例</font>"
> -   **伯努利 CDF ($p=Pr(X=1)$)**:
>     $$F(x) = \begin{cases} 0 & x < 0 \\ 1-p & 0 \le x < 1 \\ 1 & x \ge 1 \end{cases}$$
>     (在 0 和 1 处有跳跃的阶梯函数)
> -   **二项 CDF**:
>     $$F(x) = \sum_{i=0}^{\lfloor x \rfloor} \binom{n}{i} p^i (1-p)^{n-i}$$
>     (其中 $\lfloor x \rfloor$ 表示不大于 $x$ 的最大整数。这也是一个阶梯函数，在 $0, 1, ..., n$ 处跳跃)
> -   **均匀 CDF (在 $[a, b]$ 上)**:
>     $$F(x) = \begin{cases} 0 & x < a \\ \frac{x-a}{b-a} & a \le x \le b \\ 1 & x > b \end{cases}$$
>     (从 0 线性增长到 1 的连续函数)
> -   **标准正态 CDF**:
>     $$F(x) = \Phi(x) = \int_{-\infty}^x \frac{1}{\sqrt{2\pi}} e^{-t^2/2} dt$$
>     (无法写出解析式，但函数存在且连续光滑)

> [!tip] -t "<font color='orange'>CDF vs PF/PDF 的便利性</font>"
> -   对于**离散**分布，**PF/PMF** 通常更直观、更方便使用，因为它直接给出了每个点的概率。CDF 看起来有点笨拙。
> -   对于**连续**分布，**CDF 和 PDF** 同样方便，它们可以轻松相互转换（通过积分和微分）。选择哪个取决于具体问题。有时 CDF 更容易推导（比如求函数的分布时），有时 PDF 更直观（比如看分布的形状）。
> -   CDF 的最大优势在于它的**通用性**，可以描述任何类型的分布。

---

### 总结 (讲座整体)

-   本次讲座深入探讨了**连续分布**，特别是**正态分布**（包括其PDF积分证明、标准化、CDF特性）、**指数分布**（及其应用和无记忆性）、**Gamma分布**（Gamma函数、与指数/卡方关系）和**Beta分布**（简介）。
-   引入了**累积分布函数 (CDF)** 作为描述所有概率分布（离散、连续、混合）的**统一框架**。
-   详细讲解了 CDF 的**三大性质**（非递减、极限、右连续）以及如何使用 CDF 计算各种概率。
-   阐明了 CDF 与 PF (离散) 和 PDF (连续) 之间的**关系**，并比较了它们在不同情况下的便利性。