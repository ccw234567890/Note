# Lab 4: 详细分析、执行步骤与答案

这是对您上传的 `lab 4.pdf` 实验手册的详细分析，以及您接下来需要执行的步骤。

## 实验概述 (Lab 4 Overview)

* **实验目的：** 本次实验的目的是表征 RC 和 CR 电路，以及它们作为**滤波器**的行为。您将研究它们如何阻止/衰减某些频率的信号，同时让其他频率的信号通过。
* **重要提示：** 本次实验的活动将为您需要提交的实验报告提供素材，因此请务C必仔细记录笔记并妥善选择所需的数据点。

---

## 第1页：交流电路理论

这一页是背景知识介绍。

* **核心概念：**
    * **AC (Alternating Current):** 周期性随时间变化的信号，如正弦波和方波。
    * **周期 (T):** 信号重复一次所需的时间。
    * **频率 (f):** 信号每秒重复的次数，单位是赫兹 (Hz)。$f = 1 / T$。
    * **图 4-1 (正弦波):** 展示了几个关键的幅值参数：
        * **峰值幅值 (Peak Amplitude):** 从0到波形最高点的最大值。
        * **峰峰值 (Peak to Peak Amplitude):** 波形最高点到最低点的总高度。
        * **RMS 幅值 (RMS Amplitude):** 均方根值。对于正弦波，RMS = 峰值 / sqrt(2) (约 0.707 * 峰值)。
    * **图 4-2 (相位移):**
        * **时间偏移 (t):** 两个相同频率的波形在时间上的延迟。
        * **相位移 (phi):** 这种时间延迟也可以表示为角度（度或弧度）。
        * **公式:** Phase shift (phi) = (t / T) * 360°。

* **您的操作：**
    * 阅读并理解这些基本定义，您将在整个实验中用到它们。

---

## 第2页：滤波器理论与任务1设置

这一页继续介绍理论，并开始布置任务1。

* **核心概念：**
    * **角频率 (w):** $w = 2 * pi * f$。
    * **滤波器类型：**
        * **低通滤波器 (Low-pass):** 在低频时增益最高。
        * **高通滤波器 (High-pass):** 在高频时增益最高。
        * **带通滤波器 (Band-pass):** 在某个中间频率范围内增益最高。
        * **带阻滤波器 (Band-stop):** 在某个中间频率范围外增益最高。
    * **增益 (Gain) in dB:** $Gain (dB) = 20 * log10(Vout / Vin)$。
    * **截止频率 (Cut-off frequency, fc):** 滤波器的增益从最大值下降 -3 dB 时的频率。这是区分“通过”和“阻断”的边界。

### 任务1：RC 电路

1.  **搭建电路 (图 4-3)：**
    * 这是一个 **RC 电路**。电路连接顺序为：信号发生器 -> 电阻 (R) -> 电容 (C) -> 地。
    * **输出 (Channel 2)** 是跨接在**电容器 (C)** 两端的。
    * **元件值：** $C = 10 \text{ nF}$，$R = 1.2 \text{ kOhm}$ (或接近的值)。
    * **示波器连接：**
        * **Channel 1 (Input):** 跨接在信号发生器两端（即 R 之前）。
        * **Channel 2 (Output):** 跨接在电容 C 两端。

2.  **计算理论截止频率 (fc)：**
    * **公式：** $fc = 1 / (2 * pi * R * C)$
    * **您的操作：** 在手册上写下计算过程和结果。
    * **答案：**
        * $fc = 1 / (2 * 3.14159 * 1200 \text{ Ohm} * 10 * 10^{-9} \text{ F})$
        * $fc = 1 / (0.000075398)$
        * **$fc_theoretical \approx 13263 \text{ Hz}$** (或 13.26 kHz)

3.  **PSpice 模拟截止频率：**
    * **您的操作：** 在 PSpice 中搭建图 4-3 的电路。
    * 使用 **AC Sweep / 频率响应** 分析（而不是瞬态分析）。
    * 运行模拟，并在输出图上找到 -3 dB 对应的频率。
    * 将这个模拟值（应非常接近 13.26 kHz）填入 $f_{c_simulated}$ 空白处。

---

## 第3页：任务1 数据收集与分析

1.  **PSpice 增益与相位图：**
    * **您的操作：** 将您在上一步 PSpice 模拟中得到的**增益 (dB) vs 频率 (log scale)** 图和**相位 vs 频率 (log scale)** 图，截图或重新绘制到手册的空白处。

2.  **搭建硬件电路：**
    * **您的操作：** 在面包板上搭建图 4-3 的 RC 电路。
    * **信号发生器设置：**
        * 波形：正弦波
        * 频率范围：从 10 Hz 扫到 20 kHz (手册建议约10个点，确保在截止频率 13.26 kHz 附近多取几个点)。
        * 幅值：2 V 峰峰值 (Peak-to-Peak)。

3.  **记录数据：**
    * **您的操作：** 对于您选择的每个频率点（例如 10Hz, 100Hz, 1kHz, 5kHz, 10kHz, 13.3kHz, 15kHz, 20kHz...）：
        1.  在示波器上测量 **Channel 1 的峰峰值 (Vin)** 和 **Channel 2 的峰峰值 (Vout)**。
        2.  使用示波器的测量功能，测量 Channel 1 和 Channel 2 之间的**相位差 (Phase difference)**。
        3.  将这些值填入第3页的表格中。

4.  **绘制实验图表：**
    * **您的操作：**
        1.  在 Excel (或类似软件) 中，根据表格数据创建两张图。
        2.  **图1 (增益图):**
            * 计算每一行的增益 (dB)：$Gain = 20 * log10(Vout / Vin)$。
            * Y轴：Gain (dB)
            * X轴：Frequency (Hz)，并**将X轴设置为对数刻度 (Logarithmic scale)**。
        3.  **图2 (相位图):**
            * Y轴：Phase difference (度)
            * X轴：Frequency (Hz)，同样设置为**对数刻度**。
        4.  将这两张图打印出来或绘制在手册的空白处，并与 PSpice 的结果进行比较。

5.  **评论增益图 (任务 1.6)：**
    * **您的操作：** 回答“哪些频率范围可以通过此滤波器，哪些不能？”
    * **答案提示：** 观察您的增益图。您会发现**低频信号**的增益接近 0 dB (Vout 约等于 Vin)，而**高频信号**的增益变为负值（Vout 远小于 Vin）。因此，该滤波器**允许低频通过**，**衰减高频**。

---

## 第4页：任务1 结论与任务2

1.  **这是什么类型的滤波器？ (任务 1.7)：**
    * **您的操作：** 根据上一步的分析作答。
    * **答案：** **低通滤波器 (Low-Pass Filter)**。

2.  **实验截止频率 (任务 1.8)：**
    * **您的操作：** 查看您的**实验增益图** (Excel图表)，找到增益为 **-3 dB** (或最大增益减去 3 dB) 时的频率。这个值应该接近您计算的 13.26 kHz。

### 任务2：CR 电路

1.  **搭建电路 (图 4-4)：**
    * 这是一个 **CR 电路**。注意元件顺序**已交换**：信号发生器 -> 电容 (C) -> 电阻 (R) -> 地。
    * **输出 (Channel 2)** 现在跨接在**电阻 (R)** 两端。
    * **元件值：** $C = 10 \text{ nF}$，$R = 12 \text{ kOhm}$ (注意：这里是 **12k**，不是 1.2k)。

2.  **PSpice 模拟：**
    * **您的操作：** 在 PSpice 中搭建图 4-4 的电路 (使用 R=12k)，运行 AC Sweep，并将增益和相位图绘制在手册的空白处。

3.  **搭建硬件与数据收集：**
    * **您的操作：** 在面包板上搭建新电路。
    * 重复与任务1相同的测量流程（扫描频率，记录 Vin, Vout, 和相位差），并将数据填入第4页的表格中。
        * *理论 $fc$ (供参考):* $fc = 1 / (2 * pi * 12000 \text{ Ohm} * 10 * 10^{-9} \text{ F}) \approx 1326 \text{ Hz}$ (1.33 kHz)。请确保在 1.33 kHz 附近多取几个点。

4.  **绘制实验图表：**
    * **您的操作：** 像任务1一样，在 Excel 中绘制增益 (dB) vs 频率 (log) 和 相位 vs 频率 (log) 的图表，并展示给助教。

---

## 第5页：任务2 结论与任务3

1.  **评论增益图 (任务 2.6)：**
    * **您的操作：** 回答“哪些频率范围可以通过此滤波器，哪些不能？”
    * **答案提示：** 观察您的增益图。您会发现**低频信号**的增益非常低（被衰减），而**高频信号**的增益接近 0 dB（通过）。因此，该滤波器**允许高频通过**，**衰减低频**。

2.  **这是什么类型的滤波器？ (任务 2.7)：**
    * **您的操作：** 根据上一步的分析作答。
    * **答案：** **高通滤波器 (High-Pass Filter)**。

3.  **实验截止频率 (任务 2.8)：**
    * **您的操作：** 查看您的实验增益图，找到增益为 **-3 dB** 时的频率。这个值应该接近您计算的 1.33 kHz。

### 任务3：级联 RC 和 CR 电路

* **目标：** 将任务1（低通）和任务2（高通）组合起来，构成一个**带通滤波器**。

1.  **思考与草图 (任务 3.1)：**
    * **您的操作：** 思考如何结合这两个电路以获得带通特性（只让中间频率通过）。
    * **提示：** 您需要一个**高通滤波器**（滤除低频）和**一个低通滤波器**（滤除高频）。将它们**串联（级联）** 即可。
    * **草图：**
        `Input -> [任务2: C, R] -> [任务1: R, C] -> Output`
        即：
        `Input -> C2(10nF) -> (Node) -> R1(1.2k) -> (Output) -> C1(10nF) -> Gnd`
        并且 `R2(12k)` 从 `(Node)` 接到 `Gnd`。
        (这是标准的高通后接低通的级联结构)

2.  **绘制预期增益图 (任务 3.2)：**
    * **您的操作：** 绘制一个增益 (dB) vs 频率 (log) 的示意图。
    * **答案（形状）：**
        1.  在低频处，增益很低（被高通部分滤除）。
        2.  增益上升，经过第一个截止频率 $fc_low$ (1.33 kHz)。
        3.  增益在中间区域保持平坦（或呈圆顶状）。
        4.  增益下降，经过第二个截止频率 $fc_high$ (13.26 kHz)。
        5.  在高频处，增益再次变得很低。
    * 在图上标记两个截止频率 $fc_low$ 和 $fc_high$。

---

## 第6页：任务3 PSpice 与硬件搭建

1.  **与助教讨论 (任务 3.3)：**
    * **您的操作：** 将您的草图（电路图和增益图）给助教看，确认您的设计思路是正确的。

2.  **PSpice 模拟 (任务 3.4)：**
    * **您的操作：** 根据您的草图，在 PSpice 中搭建电路。
    * **元件值：** $C1=10\text{nF}$, $R1=1.2\text{kOhm}$, $C2=10\text{nF}$, $R2=12\text{kOhm}$。
    * **注意：** $R1/C1$ 构成低通部分 ($fc \approx 13.3\text{kHz}$)，$R2/C2$ 构成高通部分 ($fc \approx 1.33\text{kHz}$)。确保您的高通在前，低通在后（或反之）。
    * 将 PSpice 得到的增益和相位图绘制在手册空白处。

3.  **搭建硬件与数据收集 (任务 3.5)：**
    * **您的操作：** 在面包板上搭建级联电路。
    * 扫描频率（确保在 1.33 kHz 和 13.3 kHz 附近多取点），记录 Vin, Vout 和相位差，填入表格。

4.  **绘制实验图表 (任务 3.6)：**
    * **您的操作：** 再次使用 Excel 绘制实验的增益图和相位图。

5.  **评论增益图 (任务 3.7)：**
    * **您的操作：** 回答“这是一个有效的带通滤波器吗？”
    * **答案提示：** 是的，它应该显示出带通特性（中间高、两边低）。但是，由于**加载效应(Loading Effect)**，通带（中间区域）的增益可能**不是 0 dB**（Vout 会小于 Vin），并且峰值可能是圆的，而不是平坦的。

---

## 第7页：任务3 (续) - 交换元件

1.  **交换 R 和 C (任务 3.8)：**
    * **您的操作：** 手册要求“交换 R 和 C 元件的位置”。这最有可能指的是**交换两个滤波级联的顺序**。
    * **原电路 (假设)：** `Input -> [高通] -> [低通] -> Output`
    * **新电路：** `Input -> [低通] -> [高通] -> Output`
    * **电路图：**
        `Input -> R1(1.2k) -> (Node) -> C2(10nF) -> (Output)`
        并且 `C1(10nF)` 从 `(Node)` 接到 `Gnd`。
        并且 `R2(12k)` 从 `(Output)` 接到 `Gnd`。
    * 在 PSpice 中模拟这个新电路，并绘制增益/相位图。

2.  **搭建硬件与数据收集 (任务 3.9)：**
    * **您的操作：** 搭建这个修改后的电路，并再次填写数据表。

3.  **绘制实验图表 (任务 3.10)：**
    * **您的操作：** 绘制这个修改后电路的实验增益图和相位图。

4.  **评论增益图 (任务 3.11)：**
    * **您的操作：** 回答“这是一个有效的带通滤波器吗？”
    * **答案提示：** 是的，这**仍然**是一个带通滤波器。

---

## 第8页：最终分析问题

1.  **为什么两个任务的结果不同？ (任务 3.12)：**
    * **您的操作：** 比较第6页和第7页的图表。它们是否完全相同？
    * **答案：** 结果是**不同**的（尽管都是带通）。这是因为**加载效应 (Loading Effect)**。

2.  **加载效应如何影响结果？ (任务 3.13)：**
    * **答案：** 第二个滤波器电路（负载）会从第一个滤波器电路（源）“汲取”电流。这改变了第一个电路的行为。
    * 简单来说，第二个滤波器的输入阻抗（Input Impedance）与第一个滤波器的输出阻抗（Output Impedance）相互作用，导致实际的截止频率与理论上独立计算的 $fc$ 值发生偏移，并且通常会导致通带内的增益被衰减（即增益 < 0 dB）。
    * 交换顺序会改变哪个电路在“加载”哪个电路，因此会得到不同的总响应。

3.  **如何实现平坦的通带？ (任务 3.14)：**
    * **您的操作：** 思考如何消除加载效应。
    * **答案：** 使用**缓冲器 (Buffer)**。在第一个滤波器级和第二个滤波器级之间插入一个**电压跟随器**（例如，使用运放 Op-Amp 搭建）。
    * 缓冲器具有极高的输入阻抗（不从第一级汲取电流）和极低的输出阻抗（可以轻松驱动第二级），从而将两个滤波器级**隔离**开，消除加载效应。这会使通带更平坦（接近 0 dB），截止频率更接近理论值。

---
---

# Lab 4: PDF 全文翻译

以下是您提供的 `lab 4.pdf` 实验手册的中文翻译。

## 第1页

[图 4-1：正弦波参数图]
[图 4-2：相位移正弦波图]

**实验 4 - 交流电路与滤波器**

本实验的目的是表征 RC 和 CR 电路及其作为滤波器（即阻止/衰减输入信号的某些频率成分但让其他成分通过的电路）的行为。
本次实验中的活动将为您需要提交的实验报告提供素材，因此请务必仔细记录笔记并选择您可能需要的数据点！

让我们总结一些关于周期性时变信号的基本概念。
周期性时变信号被称为 AC（Alternating Current，交流电）。
示例包括正弦波和方波，如图 4-1 和 4-2 所示。
周期 T 是信号重复一次所需的时间，周期的倒数是频率 f ($f=1/T$)。 频率是信号每秒重复的次数，单位是赫兹 (Hz)。
图 4-1 的正弦波还给出了几个涉及信号幅值（电流或电压）的重要参数，我们将在本课程中定义和研究这些参数。

[图 4-1 标签翻译]
* Sine Wave: 正弦波
* Amplitude: 幅值
* Time: 时间
* Peak Amplitude: 峰值幅值
* RMS Amplitude: RMS 幅值 (均方根幅值)
* Peak to Peak Amplitude: 峰峰值幅值
* Mean Amplitude Over a Half Cycle (0.636): 半个周期的平均幅值 (0.636)

图 4-2 显示了两个在时间上错开的相同正弦波（即相同的幅值和频率）。
这个时间延迟 t 可以表示为相位移 phi。
它被测量为周期 T 的一个完整波形的一部分，并表示为角度测量（度或弧度）($1 \text{ 弧度} = 360 / 2\pi \text{ 度}$)。
在角度上，phi 可以在 0° - 360° 范围内变化，在弧度上，phi 的范围是 0 到 2pi。
所以：相位移 $\emptyset = \pm \frac{t}{T} \times 360^{\circ}$

[图 4-2 标签翻译]
* Sine Wave: 正弦波
* Delayed Time Shifted Sine Wave: 延迟时移正弦波
* Time Shift t: 时间偏移 t

---

## 第2页

[图 4-3：CR 电路原理图 (实为 RC 低通滤波器)]

让我们首先回顾一些我们将在课程中详细研究的理论要素。

* $\omega = 2\pi f$，其中 f 是信号频率 (Hz)，w 是角频率，所以 f 和 w 不是同一个参数。
* **低通滤波器**在较低频率下具有最高增益。
* **高通滤波器**在较高频率下具有最高增益。
* **带通滤波器**在中间的某个频率范围内具有最高增益。
* **带阻滤波器**（或陷波滤波器）在某个频率范围之外具有最高增益。
* 增益通常以**分贝 (dB)** 显示。这意味着取增益的以10为底的对数的20倍 -> $20 \log_{10}(Vout / Vin)$
* 滤波器的**带宽**，即滤波器允许通过而不衰减的频率范围，通常以距最大增益 **-3 dB** 的点来表示（即增益为 -3 dB 时的频率）。
* 在这些电路中，这由以下公式给出，该频率通常称为**截止频率**。

$f_c = \frac{1}{2\pi RC}$

让我们开始实验工作。

**任务 1：RC 电路**

1.  构建图 4-3 所示的 RC 电路 ($C = 10 \text{ nF}$，$R = 1.2 \text{ k}\Omega$)，或一个接近的值。
    信号发生器是一个任意波形发生器。示波器的两个通道将连接到图 4-3 所示的两个节点（不要忘记连接地线！）。
    通道 1 是电路的输入（信号发生器），通道 2 是输出。

[图 4-3 标签翻译]
* Signal generator: 信号发生器
* Channel 1: 通道 1
* Channel 2: 通道 2

2.  计算您构建的 RC 电路的理论截止频率。在此处记下：
    $f_{c \text{ 理论}} = $

3.  使用 PSpice 模拟获得模拟的截止频率。在此处写下：
    $f_{c \text{ 模拟}} = $

---

## 第3页

4.  使用 PSpice 模拟获得 CR [应为RC] 电路的增益和相位移图。在此处记录它们。
5.  在面包板上实现该电路。设置任意波形发生器输出一个频率范围从 10 Hz 到 20 kHz、峰峰值幅值为 2 V 的正弦波。最小和最大频率之间的步长由您决定，但请确保有足够的点（约10个）以产生平滑的曲线。
    对于每个频率值，在表格中记录频率、输入和输出信号的峰峰值幅值，以及输入和输出之间的相位差。
    您可能需要调整示波器的幅值和时间刻度才能正确查看波形。

| 频率 (Hz) | 峰峰值 (V) | 相位差 (°/rad) |
| :--- | :--- | :--- |
| | | |
| | | |
| | | |
| | | |

6.  在下面的空间中绘制两个图：一个表示实验增益 (dB)，另一个表示相位移，两者都是电路频率的函数。
    将 X 轴设置为对数刻度（这可以在 Excel 中使用适当的图表选项轻松实现）。
    在下方绘制 CR [应为RC] 电路的增益和相位移，并将它们与 PSpice 模拟结果进行比较。
    在继续之前向 GTA 或讲师展示这些图。
7.  评论增益图：哪些频率范围可以通过此滤波器，哪些不能？

---

## 第4页

[图 4-4：RC 电路原理图 (实为 CR 高通滤波器)]

7.  这是什么类型的滤波器？
8.  从您的数据中，实验截止频率是多少？

**任务 2：CR 电路**

2.  [应为1] 构建图 4-4 所示的 CR 滤波器电路 ($C = 10 \text{ nF}$，$R = 12 \text{ k}\Omega$)。

[图 4-4 标签翻译]
* Signal generator: 信号发生器
* Channel 1: 通道 1
* Channel 2: 通道 2

3.  [应为2] 在 PSpice 中观察增益和相位移图，并将它们绘制在下面。
4.  [应为3] 在面包板上实现该电路。对于每个频率值，使用示波器记录频率、输入和输出信号的峰峰值幅值，以及输入和输出之间的相位差。
5.  [应为4] 绘制实验增益 (dB) 和相位移（两者都是频率的函数），并将其展示给 GTA。

| 频率 (Hz) | 峰峰值 (V) | 相位差 (°/rad) |
| :--- | :--- | :--- |
| | | |
| | | |
| | | |
| | | |

---

## 第5页

6.  评论增益图：哪些频率范围可以通过此滤波器，哪些不能？
7.  这是什么类型的滤波器？
8.  从您的数据中，实验截止频率是多少？

**任务 3：级联 RC 和 CR 电路**

现在我们将研究如何将在早期任务中单独分析的 RC 和 CR 电路组合起来，形成一个具有整体**带通**特性的新电路。
这意味着只有某个频率范围的信号可以通过滤波器，而高于和低于此范围的频率将被衰减。

1.  首先，尝试思考您将如何组合您分析过的 CR 电路和 RC 电路以获得带通滤波器。
    尝试在下面绘制电路草图（请记住，您希望在输出中消除最高频率（什么滤波器可以做到？）和最低频率（那么您还需要什么其他滤波器？））
2.  在下面绘制您期望从带通系统获得的对数刻度增益图。
    在图中突出显示截止频率（您将有两个截止频率，一个与 RC 电路相关，一个与 CR 电路相关）。

---

## 第6页

3.  与 GTA 讨论这些草图，看看您的方法是否正确。
4.  使用 $C1=10\text{nF}$，$R1=1.2\text{k}\Omega$，$C2=10\text{nF}$，$R2=12\text{k}\Omega$ 在 PSpice 中构建电路。
    在下面绘制在 PSpice 上观察到的增益和相位移图。
5.  在面包板上实现该电路，并记下每个频率的输入和输出信号峰峰值幅值，以及输入和输出之间的相位差。

| 频率 (Hz) | 峰峰值 (V) | 相位差 (°/rad) |
| :--- | :--- | :--- |
| | | |
| | | |
| | | |
| | | |

6.  绘制实验增益 (dB) 和相位移（两者都是频率的函数），并将其展示给 GTA。
7.  评论增益图：这是一个有效的带通滤波器吗？

---

## 第7页

8.  现在，交换电路中 R 和 C 元件的位置，然后再次进行 PSpice 模拟。
    绘制在 PSpice 上观察到的增益和相位移图。
9.  在面包板上实现修改后的电路，并记下每个频率的输入和输出信号峰峰值幅值，以及输入和输出之间的相位差。

| 频率 (Hz) | 峰峰值 (V) | 相位差 (°/rad) |
| :--- | :--- | :--- |
| | | |
| | | |
| | | |
| | | |

10. 在下面绘制修改后电路的实验增益 (dB) 和相位移（两者都是频率的函数），并将其展示给 GTA。
11. 评论增益图：这是一个有效的带通滤波器吗？

---

## 第8页

12. 为什么任务 3 [第6页] 和任务 4 [第7页，应为任务3.8] 的结果不同？
13. 级联中的加载效应如何影响结果？
14. 如何实现平坦的通带？