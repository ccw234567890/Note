# Lab 3: 详细分析与执行步骤

好的，这是对您上传的 `lab3.pdf` 实验手册的详细分析，以及您接下来需要执行的步骤。

## 实验概述 (Lab 3 Overview)

这份实验手册是“实验3 - 瞬态与时间常数”。

本次实验的目标是表征包含电容和电感等电抗元件的电路的瞬态行为。您将重点关注：
1.  电容值的选择如何影响流经元件的电流。
2.  观察当输入方波电压的占空比改变时，电容的充电和放电行为。

实验分为两大部分：
* **RC 电路：** 使用 PSpice 模拟，然后进行硬件实验。
* **RL 电路：** 仅使用 PSpice 模拟。

---

## 第1页：RC 电路理论与 PSpice 设置

这一页主要介绍理论知识，并指导您完成 PSpice 模拟的初始设置。

**详细步骤：**

1.  **理论复习（书面作答）：**
    * **任务1：** 在手册第1页的空白处，写下流经电容器的电流 I 的表达式。
        * **提示：** 电流 I_C 是电容 C 乘以电容两端电压 V_C 对时间的变化率（导数）。公式为 I_C = C * (dV_C / dt)。
    * **任务2：** 计算当 R = 10 kOhm 且 C = 20 nF 时，电路的时间常数 tau。
        * **提示：** RC 电路的时间常数 tau = R * C。
        * **计算：** tau = (10 * 10^3 Ohm) * (20 * 10^-9 F)。
        * 将计算结果填入手册的空白处。

2.  **PSpice 模拟设置 (任务3)：**
    * **目标：** 搭建图 3-1 所示的 RC 电路。
    * **元件：**
        * **电阻 (R)：** 使用 R = 10 kOhm。
        * **电容 (C)：** 使用 C = 20 nF。
        * **地 (GND)：** 使用 `0` 或 `GND_ANALOG` 元件。
        * **电压源 (Vs)：** 这次您需要一个**脉冲电压源**。在 `SOURCE` 库中查找名为 **VPULSE** 的元件。
    * **设置 VPULSE 参数：**
        * `V1` (初始电压) = **0 V**
        * `V2` (脉冲电压) = **4 V**
        * `TD` (延迟时间) = **0s**
        * `TR` (上升时间) = **0s**
        * `TF` (下降时间) = **0s**
        * `PW` (脉冲宽度) = **5 * tau** (使用您在任务2中计算的 tau 值)
        * `PER` (周期) = **10 * tau** (同样使用任务2的 tau 值)

---

## 第2页：PSpice 模拟运行与数据收集

这一页指导您运行模拟并记录数据。

**详细步骤：**

1.  **运行瞬态模拟 (任务4)：**
    * **配置模拟器：**
        * 与实验2不同，这次您需要进行“瞬态模拟”。点击 "New Simulation Profile" (新建模拟配置文件)。
        * 在 "Simulation Settings" (模拟设置) 窗口中，将 "Analysis type" (分析类型) 设置为 **"Time Domain (Transient)"** (时域(瞬态))。
    * **模拟 1：**
        * 使用您刚设置好的电路 (R = 10 kOhm, C = 20 nF)。
        * 设置 "Run to time" (运行时间) 为 **20 * tau** (使用任务2的 tau 值)。
        * 设置 "Maximum step size" (最大步长，或 "step ceiling") 为 **< 0.1 * tau** （例如 0.05 * tau），以确保曲线平滑。
        * 运行模拟。
    * **模拟 2：**
        * 更改电路中的元件值：R = 1 kOhm 且 C = 0.2 uF。
        * **重要：** 您必须为这对新值**重新计算**时间常数 tau' = (1 * 10^3 Ohm) * (0.2 * 10^-6 F)。
        * **更新 VPULSE 参数：** 将 `PW` 更新为 5 * tau'，将 `PER` 更新为 10 * tau'。
        * **更新模拟设置：** 将 "Run to time" 更新为 20 * tau'，将 "Maximum step size" 更新为 < 0.1 * tau'。
        * 运行模拟。
    * **绘图：**
        * 对于**每一次**模拟，您都需要在**同一张图**上绘制电容两端的电压 V_C 和流过电容的电流 I_C。
        * **提示：** 电流值可能非常小。您可以绘制一个乘以系数的电流（例如，绘制 `I(C1) * 1000`），使其与电压在同一尺度上可见。

2.  **填写数据表 (任务5)：**
    * 您需要为**两次**模拟分别填写手册中的两张表格。
    * 查看图表，重点关注电压从 4V 下降到 0V 的**放电**过程。
    * 在表格中，对于给定的 "Voltage across C" (电容电压) 值（如 3.75V, 3.5V...），从 PSpice 图中读取并记录对应的 "Time" (时间) 和 "Current through C" (电容电流)。
    * 请务必标明电流的单位（例如 mA 或 uA）。

3.  **改变占空比 (任务6)：**
    * **占空比** (Duty cycle) = `PW` / `PER`。您最初的设置是 5*tau / 10*tau = 0.5。
    * **实验 1：** 将占空比改为 **0.1**。
        * **操作：** 保持 `PER` = 10*tau 不变，将 `PW` 改为 1*tau (因为 1*tau / 10*tau = 0.1)。
    * **实验 2：** 将占空比改为 **0.9**。
        * **操作：** 保持 `PER` = 10*tau 不变，将 `PW` 改为 9*tau。
    * 运行这两次新的模拟，观察 V_C 的波形。
    * 在手册的空白处记下您的观察结果。
        * **提示：** 手册已经给出了答案：占空比为 0.1 时，电容无法完全充电；占空比为 0.9 时，电容无法完全放电。

---

## 第3页：RL 电路理论与 PSpice 模拟

这一页将主题切换到并联 RL 电路。

**详细步骤：**

1.  **理论复习（书面作答）：**
    * **任务7：** 计算 RL 电路的时间常数 tau。
        * **注意：** 手册正文 写的 R=1 可能是个笔误。请使用图 3-4 和任务8 中暗示的值：R = 1 kOhm 且 L = 0.2 H。
        * **提示：** RL 电路的时间常数 tau = L / R。
        * **计算：** tau = (0.2 H) / (1 * 10^3 Ohm)。
        * 将结果填入手册的空白处。

2.  **PSpice 模拟设置 (任务8)：**
    * **目标：** 搭建图 3-4 所示的 RL 电路。
    * **元件：**
        * **电阻 (R1)：** 1 kOhm
        * **电感 (L1)：** 0.2 H
        * **地 (GND)：** `0` 或 `GND_ANALOG`
        * **电流源 (Is)：** 这次您需要一个**脉冲电流源**。在 `SOURCE` 库中查找名为 **IPULSE** 的元件。
    * **设置 IPULSE 参数：**
        * `I1` (初始电流) = **0 A**
        * `I2` (脉冲电流) = **4 mA** (输入 `4m`)
        * `TD`, `TR`, `TF` = **0s**
        * `PW` (脉冲宽度) = **5 * tau** (使用您在任务7中计算的 tau 值)
        * `PER` (周期) = **10 * tau** (同样使用任务7的 tau 值)
    * **运行模拟：**
        * 使用与 RC 电路相同的瞬态分析设置（例如，运行时间 20*tau，最大步长 < 0.1*tau）。
        * 运行并观察结果。

3.  **对比分析 (任务9)：**
    * **目标：** 在手册空白处，比较 RC 和 RL 瞬态电路的异同。
    * **提示：** 思考“对偶性”。RC 电路中，电容**电压** V_C 不能瞬变，呈指数变化；RL 电路中，电感**电流** I_L 不能瞬变，呈指数变化。

---

## 第4页：硬件实验 (RC 电路)

这一页指导您从 PSpice 模拟转向真实的硬件搭建。

**详细步骤：**

1.  **搭建硬件电路 (任务10)：**
    * 在面包板上搭建 RC 电路。
    * **元件：** R = 10 kOhm 和 C = 20 nF。
    * **信号源：** 使用“任意波形发生器”。
    * **设置发生器：**
        * 波形：**方波**
        * 峰值（幅值）：**4 V**
        * 占空比：**0.5** (或 50%)
        * 周期 (Period)：**10 * tau** (使用您在任务2中计算的 tau 值, 即 10 * R * C)

2.  **测量电阻 (任务11)：**
    * 使用万用表测量您所用电阻的**实际**阻值。
    * 将这个**精确值**记录在手册的空白处。

3.  **示波器测量与数据分析 (任务12)：**
    * **目标：** 使用示波器测量电容两端的电压 V_C。
    * **i.** 调整示波器的电压 (Volts/div) 和时间 (Time/div) 刻度，使一个完整的指数**衰减**（放电）波形清晰地显示在屏幕上（例如，从左上角到右下角）。
    * **ii.** 将波形图像存储/保存。
    * **iii.** 将波形数据导出为 **.csv** 文件。
    * **iii. (续)** 将 .csv 文件导入 Excel。
    * **iii. (续)** 选取电压从 4V 下降到 0V 的那部分数据，创建"散点图" (Scatter Plot)。
    * **iii. (续)** 在图表上右键单击数据点，选择 "Add Trendline" (添加趋势线)。
    * **iv. (续)** 在 "Format Trendline" (设置趋势线格式) 窗口中：
        * 选择 "Type" (类型) 为 **"Exponential"** (指数)。
        * 勾选 **"Display Equation on chart"** (在图表上显示公式)。
    * **iv. (续) 分析数据：**
        * Excel 会给出一个类似 y = A * e^(b*x) 的公式。
        * 这个公式对应于理论 V_C(t) = K * e^(-t/tau)。
        * 通过比较，您可以得出：Excel 给出的 b 值等于 -1/tau。
        * 因此，您可以从 Excel 拟合中计算出实验的时间常数：tau_exp = -1/b。
    * **iv. (续) 计算电容：**
        * 您已经知道 tau = R * C。
        * 使用您刚得到的 tau_exp 和您在任务11中用万用表测量的**实际电阻值** R_actual。
        * 计算电容的实际值： C_calculated = tau_exp / R_actual。

4.  **实验签核 (Sign-off)：**
    * 向您的助教 (GTA) 展示您的 Excel 图表、拟合的公式以及您对电容 C 的最终计算结果。
    * 准备好回答：您计算出的 C 值与标称值 (20 nF) 相比如何？

---
---

# Lab 3: PDF 全文翻译

以下是您提供的 `lab3.pdf` 实验手册的中文翻译。

---

## 第1页

[图示：一个RC串联电路。包含一个脉冲电压源 Vs，一个电阻 R，和一个电容 C。电路接地。]
实验 3 - 瞬态与时间常数
在本次实验课程中，您将表征包含电容器和电感器等电抗元件的电路的瞬态行为。
您将特别关注电容器的选择如何影响流经元件的电流大小，并观察当输入方波电压的占空比改变时电容器的充电和放电行为。
请记住，瞬态是指在电压源或电流源发生突然、急剧变化后，对元件上的电压和电流进行的分析。
正如讲座中强调的，瞬态研究需要求解微分方程。
让我们看一下下图中的 RC 电路。
Vs
R
+
C
图 3-1 RC 电路
描述该电路的微分方程如下所示（它是基尔霍夫电压定律和电容器电流方程的组合）。
Vs - Vc - RC*(dVc/dt) = 0
我们将在讲座中看到，如果我们假设电压源从某个 K V 的电平突然降至 0 V，电容器两端的电压将具有以下表达式，其中 tau 是电路的时间常数，等于 RC。
Vc(t) = K * e^(-t/tau)

1.  回顾关于电容器的理论，并在下面写出流经电容器的电流表达式：
    I =
2.  如果 R=10 kOhm 且 C=20 nF，计算上图中所示电路的时间常数。
    在下面写下该值：
    tau =
3.  为上一页图中的电路设置一个 PSpice 模拟。
    脉冲电压源的初始电压 (V1) 应为 0 V，变化后的电压 (V2) 应为 4 V。
    电压源的上升时间 (TR)、下降时间 (TF) 和延迟时间 (TD) 均应设置为 0s。
    将方波的周期 (PER) 设置为 10*tau，脉冲宽度 (PW) 设置为 5*tau。

---

## 第2页

[图示：PSpice中的RC电路图。包含一个脉冲电压源 Vs，一个电阻 R1=10kOhm，和一个电容 C1=20nF。]
R1=10kOhm
Vs
C1=20nF
图 3-2 PSpice 中的 RC 电路

4.  运行两次瞬态模拟，在同一张图上绘制电容器两端的电压和流过电容器的电流。
    将电流乘以某个系数，以便可以从图上轻松读取电流的幅值。
    i. 第一次模拟应使用 R=10 kOhm 和 C=20 nF 的值运行。
    ii.
    第二次模拟应使用 R=1 kOhm 和 C=0.2 uF 运行。
    iii. 绘图的时间跨度应为 20*tau。
    步长上限 (step ceiling) 应 < 0.1*tau，以便清晰显示电流的上升和下降。
5.  对于这两次模拟中的每一次，通过从曲线上读取瞬态期间电容器两端电压从 4 V 下降到 0 V 时的值，来完成下列表格。
    请指明您用于电流的测量单位。

    表格如下：
    "C 上的电压 [V]
    ","时间
    ","通过 C 的电流
    "
    "3.75
    ",,
    "3.5
    ",,
    "2.5
    ",,
    "1.5
    ",,
    "0.5
    ",,
    "0.25
    ",,

    表格如下：
    "C 上的电压 [V]
    ","时间
    ","通过 C 的电流
    "
    "3.75
    ",,
    "3.5
    ",,
    "2.5
    ",,
    "1.5
    ",,
    "0.5
    ",,
    "0.25
    ",,

6.  重复模拟，将电压脉冲的占空比更改为 0.1，然后再更改为 0.9。
    您观察到了什么？在此处做些笔记。
    当占空比为 0.1 时，电容器无法完全充电，但能完全放电；
    当占空比为 0.9 时，电容器无法完全放电，但能完全充电。

---

## 第3页

[图示：一个RL并联电路。包含一个电流源 Is，一个开关 S，一个电阻 R，和一个电感 L。]
[图示：PSpice中的RL并联电路。包含一个电流源 Is，一个电阻 R1=1kOhm，和一个电感 L1=0.2H。]

让我们看一下下图中的 RL 电路。
+
Is
S
R
L U_L
图 3-3 RL 电路
描述该电路的微分方程如下所示。
如果您无法弄清楚它是如何得出的，请与演示员再次确认（它是基尔霍夫电流定律和电感器电压方程的组合）。
Is - (L/R)*(dI_L/dt) - I_L = 0
我们在讲座中讨论过，如果我们假设电流源从某个 K A 的电平突然降至 0 A，电感器两端的电压 [应为：流过电感的电流] 将具有以下表达式，其中 tau 是电路的时间常数，等于 L/R。
I_L(t) = K * e^(-t/tau)

7.  如果 R=1 [kOhm] 且 L=0.2 H，计算上图中所示电路的时间常数。
    在下面写下该值。
    tau =
8.  为上一页图中的电路设置一个 PSpice 模拟。
    脉冲电压 [应为：电流] 源的初始电流 (I1) 应为 0 A，变化后的电流 (I2) 应为 4 mA。
    电流源的上升时间 (TR)、下降时间 (TF) 和延迟时间 (TD) 均应设置为 0s。
    将方波的周期 (PER) 设置为 10*tau，脉冲宽度 (PW) 设置为 5*tau。
    并观察模拟结果。
    ^ Is
    图 3-4 PSpice 中的 RL 电路
    +
9.  现在比较 RC 和 RL 瞬态电路之间的异同点。

---

## 第4f页

10. 现在使用 R=10 [kOhm] 和 C=20 nF 在您的面包板上搭建电路，并使用任意波形发生器作为您的输入电压。
    在发生器中，将方波的占空比和周期分别设置为 0.5 和 10*tau。
    为我们的方波设置 4 V 作为峰值。
11. 使用万用表测量 R 的实际电阻值并在此处记下
    R =
12. 使用示波器测量电容器两端的电压。您需要：
    i. 调整和缩放示波器上的波形，使一个完整的指数衰减波形从屏幕的左上角开始，到右下角结束。
    ii. 将图像存储为文件，以便从示波器导出。
    iii. 将数据导出为 .csv 文件（如果需要，请参阅实验 1）。将数据导入 Excel。
    绘制一部分数据显示电容器两端的电压如何随着脉冲源电压从 4 V 变为 0 V 而降低。使用趋势线 (TRENDLINES)，找到指数拟合的系数 (https://support.office.com/en-us/article/Add-change-or- remove-a-trendline-in- a-chart-fa59f86c-5852-4b68-a6d4-901a745842ad)。
    iv. 根据您测量的 R 的电阻值（您可以使用数字万用表测量它），以及从指数拟合中找到的系数，计算电容器的值。
    提示：使用 Excel 拟合数据
    数据拟合的目标是找到一条最能代表数据点分布趋势的曲线。
    最小二乘法是一种常用的拟合技术，其核心思想是确定一条曲线，使得所有数据点到该曲线的垂直距离的平方和最小化。
    操作说明：
    1.  输入数据：在 Excel 工作表中输入自变量 (x) 和因变量 (y) 的数据，确保数据整齐地排列在列或行中。
    2.  创建散点图：选择包含 x 和 y 值的单元格区域，单击菜单栏中的“插入”选项卡，然后选择“散点图”（在“图表”组下）。
    3.  添加趋势线：在生成的散点图上的任何数据点上右键单击，然后选择“添加趋势线”。
    4.  设置拟合类型：在弹出的“设置趋势线格式”窗格中，在“趋势线选项”下，展开“类型”下拉菜单并选择“指数”。
    5.  显示公式和 R 平方值：选中“在图表上显示公式”和“在图表上显示 R 平方值”复选框。
    这将在图表上显示拟合的指数曲线的方程和 R^2（拟合优度）值。 R^2 值越接近 1 表示拟合效果越好。
    6.  调整图表格式（可选）：如果需要，可以进一步设置图表格式——例如设置坐标轴标题、刻度范围或网格线——以使图表更清晰易读。
    您可以在下面的空白处做些笔记。
    要让助教 (GTA) 为本次实验课程签字，您需要展示您在 Excel 中的图表以及电容器 C 值的计算过程。
    您计算出的值与标称值相比如何？