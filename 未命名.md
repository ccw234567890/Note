graph TD
    %% 定义样式
    classDef component fill:#f9f,stroke:#333,stroke-width:2px;
    classDef terminal fill:#fff,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5;
    classDef ground fill:none,stroke:none;

    %% 输入端
    Vin((Vin)):::terminal

    %% --- 第一级：高通滤波器 (HPF, fc=8kHz) ---
    subgraph "Stage 1: 2nd-Order High-Pass Filter (fc ≈ 8 kHz)"
        C1[C1: 1nF]:::component
        C2[C2: 1nF]:::component
        R1[R1: 20kΩ<br>Feedback]:::component
        R2[R2: 20kΩ<br>to GND]:::component
        
        %% 运放 U1:A
        U1A_Pos((+))
        U1A_Neg((-))
        U1A_Out[U1:A Output]
        U1A_Tri[Op-Amp U1:A<br>e.g. TL072]

        GND1(GND):::ground

        %% HPF 连接
        Vin --> C1
        C1 --Node A--> C2
        C2 --> U1A_Pos
        U1A_Pos --> R2 --> GND1
        
        %% 反馈路径 (Sallen-Key HPF 特有)
        U1A_Out --> R1 --> C1
        
        %% 单位增益连接
        U1A_Out --> U1A_Neg
    end

    %% 中间连接点
    Vmid((Vmid)):::terminal
    U1A_Out --> Vmid

    %% --- 第二级：低通滤波器 (LPF, fc=12kHz) ---
    subgraph "Stage 2: 2nd-Order Low-Pass Filter (fc ≈ 12 kHz)"
        R3[R3: 13kΩ]:::component
        R4[R4: 13kΩ]:::component
        C3[C3: 1nF<br>Feedback]:::component
        C4[C4: 1nF<br>to GND]:::component

        %% 运放 U1:B
        U1B_Pos((+))
        U1B_Neg((-))
        U1B_Out[Vout: Final Output]:::terminal
        U1B_Tri[Op-Amp U1:B<br>e.g. TL072]

        GND2(GND):::ground

        %% LPF 连接
        Vmid --> R3
        R3 --Node B--> R4
        R4 --> U1B_Pos
        U1B_Pos --> C4 --> GND2

        %% 反馈路径 (Sallen-Key LPF 特有)
        U1B_Out --> C3 --> R3

        %% 单位增益连接
        U1B_Out --> U1B_Neg
    end

    %% 电源连接说明 (不在图中显示线，但需文字说明)
    %% Note: Op-Amps need dual power supply (e.g., +9V and -9V)